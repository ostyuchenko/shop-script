$.wa=$.ui?$.extend(!0,$.wa,$.ui):{};
$.wa=$.extend(!0,$.wa,{data:{},get:function(a,b){return a==void 0?this.data:this.data[name]||b||null},set:function(a){if(a==void 0)return this.data;typeof a=="object"?$.extend(this.data,a):this.data[a]=value;return this.data},encodeHTML:function(a){return a&&(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},decodeHTML:function(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},setHash:function(a){!(a instanceof String)&&a.toString&&(a=a.toString());
a=a.replace(/\/\//g,"/");a=a.replace(/^.*#/,"");parent&&!$.browser.msie?parent.window.location.hash=a:location.hash=a;return true},back:function(a){history.length>2?typeof a=="number"&&parseInt(a)==a?history.go(-a):history.go(-1):$.browser.msie&&history.length>0?history.back():a&&this.setHash(a);return false},toggleHashParam:function(a){location.hash.search(a)==-1?this.addToHash(a):this.removeFromHash(a)},addToHash:function(a){var b=location.hash;b.search(a)==-1&&(b=b+("/"+a+"/"));this.setHash(b)},
removeFromHash:function(a){var b=location.hash;b.search(a)>-1&&(b=b.replace(a,""));this.setHash(b)},setTitle:function(a){document.title=a},array_search:function(a,b,c){var c=!!c,d;for(d in b)if(c&&b[d]===a||!c&&b[d]==a)return d;return false},dialogCreate:function(a,b){b=$.extend({content:'<h1>Loading... <i class="icon16 loading"></i></h1>',buttons:null,url:null,post:null,small:false,onload:null,oncancel:null},b);b.content=$(b.content);b.buttons=b.buttons?$(b.buttons):$('<input type="submit" class="button gray" value="'+
$_("Cancel")+'">').click(function(){b.oncancel&&b.oncancel.call(c[0]);$.wa.dialogHide()});var c=$("#"+a);c.size()<=0&&(c=$('<div class="dialog" id="'+a+'" style="display: none"><div class="dialog-background"></div><div class="dialog-window"><div class="dialog-content"><div class="dialog-content-indent"></div></div><div class="dialog-buttons"><div class="dialog-buttons-gradient"></div></div></div></div>').appendTo("body"));c.find(".dialog-buttons-gradient").empty().append(b.buttons);c.find(".dialog-content-indent").empty().append(b.content);
c.show();b.small?c.addClass("small"):c.removeClass("small");if(b.url){var d=function(a){c.find(".dialog-content-indent").html(a);$.wa.waCenterDialog(c);b.onload&&b.onload.call(c[0])};b.post?$.post(b.url,b.post,d):$.get(b.url,d)}this.waCenterDialog(c);var e=function(a){if(c.is(":visible"))if(a&&a.keyCode==27){b.oncancel&&typeof b.oncancel=="function"&&b.oncancel.call(c[0]);$.wa.dialogHide()}else $(document).one("keyup",e)};e();$(document).one("hashchange",$.wa.dialogHide);return c},waCenterDialog:function(a){var a=
$(a),a=a.find(".dialog-window"),b=a.outerWidth(true),c=a.outerHeight(true),d=$(window).width(),e=$(window).height(),c=(e-c)/2/e;a.css({left:Math.round((d-b)/2/d*100)+"%",top:Math.round(c*100)+"%"})},dialogHide:function(){$(".dialog").hide();return false},dropdownsClose:function(){var a=$(".dropdown:not(.disabled)");a.addClass("disabled");setTimeout(function(){a.removeClass("disabled")},600)},dropdownsCloseEnable:function(){$(".dropdown:not(.disabled)").live("click",this.dropdownsClickHandler)},dropdownsCloseDisable:function(){$(".dropdown:not(.disabled)").die("click",
this.dropdownsClickHandler)},dropdownsClickHandler:function(){var a=$(this);if(!a.hasClass("no-click-close")){a.addClass("disabled");setTimeout(function(){a.removeClass("disabled")},600)}},defaultInputValue:function(a,b,c){a instanceof jQuery||(a=$(a));var d=function(){var d=a.val();if(!d||d==b){a.val(b);a.addClass(c)}};d();a.blur(d);a.focus(function(){if(a.hasClass(c)){a.removeClass(c);a.val("")}})},util:{formatFileSize:function(a){var b=-1;do{a=a/1024;b++}while(a>99);return Math.max(a,0.01).toFixed(2)+
(b>=0?" "+$_(["kB","MB","GB","TB","PB","EB"][b]):"")}}});
$(document).ajaxError(function(a,b){if(200!==b.status&&b.responseText){if(!$.wa.errorHandler||$.wa.errorHandler(b))-1!=b.responseText.indexOf("Exception")?$.wa.dialogCreate("ajax-error",{content:"<div>"+b.responseText+"</div>"}):(document.open("text/html"),document.write(b.responseText),document.close(),$(window).one("hashchange",function(){window.location.reload()}))}else b.getResponseHeader("wa-session-expired")?window.location.reload():"undefined"!==typeof b.responseText&&-1!=b.responseText.indexOf("Exception")&&
$.wa.dialogCreate("ajax-error",{content:"<div>"+b.responseText+"</div>"})});$.ajaxSetup({cache:!1});$(document).ajaxSend(function(a,b,c){"POST"==c.type&&((a=(a=document.cookie.match(/(?:^|; )_csrf=([^;]*)/))?decodeURIComponent(a[1]):"",null===c.data&&(c.data=""),"string"==typeof c.data)?-1==c.data.indexOf("_csrf=")&&(c.data+=(0<c.data.length?"&":"")+"_csrf="+a,b.setRequestHeader("Content-type","application/x-www-form-urlencoded")):"object"==typeof c.data&&(c.data._csrf=a))});
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===a)return d;return-1});$.wa.locale=$.wa.locale||{};
$_=function(a,b){if(b){if(!$.wa.locale[b]){console&&console.log("Localization failed: "+b);return b}if(typeof $.wa.locale[b]=="string")return $.wa.locale[b];var c=a%10;return Math.floor(a/10)%10==1||c>4||c==0?$.wa.locale[b][2]:c==1?$.wa.locale[b][0]:$.wa.locale[b][1]}if($.wa.locale[a])return typeof $.wa.locale[a]=="string"?$.wa.locale[a]:$.wa.locale[a][0];console&&console.log("Localization failed: "+a);return a};jQuery.fn.waDialog=function(a){var a=jQuery.extend({loading_header:"",title:"",esc:!0,buttons:null,url:null,url_reload:!0,"class":null,content:null,width:0,height:0,"min-width":0,"min-height":0,offsetTop:null,offsetLeft:null,disableButtonsOnSubmit:!1,onLoad:null,onCancel:null,onSubmit:null},a||{}),b=$(this),c=b.attr("id");c&&!b.hasClass("dialog")&&(b.removeAttr("id"),$("#"+c).length&&(a.url?(b=$("#"+c),a.url_reload||(a.url=null)):$("#"+c).remove()));var d=a["class"]||a.className?a["class"]||a.className:
b.attr("class")||"";if(b.hasClass("dialog"))a.content&&(b.find(".dialog-content-indent").html(a.content),a.title&&b.find(".dialog-content-indent").prepend("<h1>"+a.title+"</h1>")),a.buttons&&b.find(".dialog-buttons-gradient").empty().append(a.buttons);else{var e=$(this),b=$("<div "+(c?'id = "'+c+'"':"")+' class="dialog '+d+'" style="display: none"><div class="dialog-background"></div><div class="dialog-window"></div></div>').appendTo("body");if(e.find(".dialog-content").length||e.find(".dialog-buttons").length){if($(".dialog-window",
b).append(e.show()),c=e.find(".dialog-content"),c.length&&(d=$('<div class="dialog-content-indent"></div>'),c.contents().appendTo(d),c.append(d)),c=e.find(".dialog-buttons"),c.length)d=$('<div class="dialog-buttons-gradient"></div>'),c.contents().appendTo(d),c.append(d)}else $(".dialog-window",b).append((a.onSubmit?'<form method="post" action="">':"")+'<div class="dialog-content"><div class="dialog-content-indent"></div></div><div class="dialog-buttons"><div class="dialog-buttons-gradient"></div></div>'+
(a.onSubmit?"</form>":"")),b.find(".dialog-content-indent").append(e.show());a.buttons&&b.find(".dialog-buttons-gradient").empty().append(a.buttons);a.url?b.find(".dialog-content-indent").append("<h1>"+(a.loading_header||"")+'<i class="icon16 loading"></i></h1>'):a.content&&b.find(".dialog-content-indent").append(a.content);a.title&&b.find(".dialog-content-indent").prepend("<h1>"+a.title+"</h1>")}b.find(".dialog-background").length||b.prepend('<div class="dialog-background"> </div>');b.unbind("close").bind("close",
function(){a.onClose&&a.onClose.call($(this));$(this).hide()});e=["width","height","min-width","min-height"];for(c=0;c<e.length;c++)a[e[c]]&&(("height"==e[c]&&"300px">a[e[c]]||"width"==e[c]&&"400px">a[e[c]])&&b.find("div.dialog-window").css("min-"+e[c],a[e[c]]),b.find("div.dialog-window").css(e[c],a[e[c]]));a.disableButtonsOnSubmit&&b.find("input[type=submit]").removeAttr("disabled");b.parent().length||b.appendTo("body");b.show();a.url?jQuery.get(a.url,function(c){var d=$(c);if(d.find(".dialog-content").length||
d.find(".dialog-buttons").length){d.find(".dialog-content").length&&b.find(".dialog-content-indent").empty().append(d.find(".dialog-content").contents());d.find(".dialog-buttons").length&&b.find(".dialog-buttons-gradient").empty().append(d.find(".dialog-buttons").contents())}else b.find(".dialog-content-indent").html(c);b.trigger("wa-resize");a.onLoad&&a.onLoad.call(b.get(0))}):a.onLoad&&a.onLoad.call(b.get(0));b.find(".dialog-buttons").delegate(".cancel","click",function(c){c.stopPropagation();c.preventDefault();
a.onCancel&&a.onCancel.call(b.get(0));b.trigger("close");return false});a.onSubmit&&b.find("form").unbind("submit").submit(function(){a.disableButtonsOnSubmit&&b.find("input[type=submit]").attr("disabled","disabled");return a.onSubmit.apply(this,[b])});b.unbind("wa-resize").bind("wa-resize",function(){var b=jQuery(this).find(".dialog-window"),c=b.width(),f=b.height();jQuery("body").css("min-height",f+"px");var m=jQuery(window).width(),d=jQuery(window).height()-60,c=(m-c)/2/m,f=(d-f-60)/2/d;f<0&&(f=
0);c<0&&(c=0);b.css({left:a.offsetLeft||Math.round(c*100)+"%",top:a.offsetTop||Math.round(f*100)+"%"})}).trigger("wa-resize");a.esc&&b.unbind("esc").bind("esc",function(){b.trigger("close")});return b};jQuery(window).resize(function(){jQuery(".dialog:visible").trigger("wa-resize")});jQuery(document).keyup(function(a){27==a.keyCode&&jQuery(".dialog:visible").trigger("esc")});(function(a,b){function c(b,c){var h=b.nodeName.toLowerCase();if("area"===h){c=b.parentNode;h=c.name;if(!b.href||!h||"map"!==c.nodeName.toLowerCase())return!1;b=a("img[usemap=#"+h+"]")[0];return!!b&&d(b)}return(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"==h?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.13",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"===typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus();
c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,
"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var c=a(this[0]),d;c.length&&c[0]!==document;){d=c.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(c.css("zIndex"),10),!isNaN(d)&&0!==d)return d;c=c.parent()}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,m,d){a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0;m&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0);d&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],m=d.toLowerCase(),i={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,
outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(f){return f===b?i["inner"+d].call(this):this.each(function(){a(this).css(m,h(this,f)+"px")})};a.fn["outer"+d]=function(f,b){return"number"!==typeof f?i["outer"+d].call(this,f):this.each(function(){a(this).css(m,h(this,f,!0,b)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),h=isNaN(d);return(h||0<=d)&&c(b,
!h)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=100===c.offsetHeight;a.support.selectstart="onselectstart"in c;b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var b=a.ui[b].prototype,f;for(f in d)b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([c,d[f]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var f=
0;f<b.length;f++)a.options[b[f][0]]&&b[f][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var c=c&&"left"===c?"scrollLeft":"scrollTop",d=!1;if(0<b[c])return!0;b[c]=1;d=0<b[c];b[c]=0;return d},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,f,m,i){return a.ui.isOverAxis(b,d,m)&&a.ui.isOverAxis(c,f,i)}}))})(jQuery);
(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,h;null!=(h=b[d]);d++)a(h).triggerHandler("remove");c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var f=b.split(".")[0],m,b=b.split(".")[1];m=f+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][m]=function(f){return!!a.data(f,
b)};a[f]=a[f]||{};a[f][b]=function(a,b){arguments.length&&this._createWidget(a,b)};c=new c;c.options=a.extend(!0,{},c.options);a[f][b].prototype=a.extend(!0,c,{namespace:f,widgetName:b,widgetEventPrefix:a[f][b].prototype.widgetEventPrefix||b,widgetBaseClass:m},d);a.widget.bridge(b,a[f][b])};a.widget.bridge=function(c,d){a.fn[c]=function(h){var f="string"===typeof h,m=Array.prototype.slice.call(arguments,1),i=this,h=!f&&m.length?a.extend.apply(null,[!0,h].concat(m)):h;if(f&&"_"===h.charAt(0))return i;
f?this.each(function(){var f=a.data(this,c),d=f&&a.isFunction(f[h])?f[h].apply(f,m):f;if(d!==f&&d!==b)return i=d,!1}):this.each(function(){var b=a.data(this,c);b?b.option(h||{})._init():a.data(this,c,new d(h,this))});return i}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this);this.element=a(c);this.options=a.extend(!0,{},this.options,this._getCreateOptions(),
b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},
option:function(c,d){var h=c;if(0===arguments.length)return a.extend({},this.options);if("string"===typeof c){if(d===b)return this.options[c];h={};h[c]=d}this._setOptions(h);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var f=this.options[b],c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();d=d||{};if(c.originalEvent)for(var b=a.event.props.length,m;b;)m=a.event.props[--b],c[m]=c.originalEvent[m];this.element.trigger(c,d);return!(a.isFunction(f)&&!1===f.call(this.element[0],c,d)||c.isDefaultPrevented())}}})(jQuery);
(function(a){var b=!1;a(document).mousedown(function(){b=!1});a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(d){if(!0===a.data(d.target,b.widgetName+".preventClickEvent"))return a.removeData(d.target,b.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var d=this,e=1==c.which,l="string"==typeof this.options.cancel?a(c.target).parents().add(c.target).filter(this.options.cancel).length:!1;if(!e||l||!this._mouseCapture(c))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=
!1!==this._mouseStart(c),!this._mouseStarted))return c.preventDefault(),!0;!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};this._mouseUpDelegate=function(a){return d._mouseUp(a)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);c.preventDefault();return b=!0}},_mouseMove:function(b){if(a.browser.msie&&
!(9<=document.documentMode)&&!b.button)return this._mouseUp(b);if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=
!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(b);if(!this.handle)return!1;a(!0===c.iframeFix?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();a.ui.ddmanager&&(a.ui.ddmanager.current=this);
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=
b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(!1===this._trigger("start",b))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,!0);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(!1===this._trigger("drag",
b,c))return this._mouseUp({}),!1;this.position=c.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b));this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&
"original"==this.options.helper)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==false&&d._clear()})}else!1!==this._trigger("stop",b)&&this._clear();return!1},_mouseUp:function(b){!0===this.options.iframeFix&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});
return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options,b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):
this.element;b.parents("body").length||b.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=
b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==
this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"==b.containment&&(b.containment=this.helper[0].parentNode);if("document"==
b.containment||"window"==b.containment)this.containment=[("document"==b.containment?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,("document"==b.containment?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:
window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var b=a(b.containment),c=b[0];if(c){b.offset();var d="hidden"!=a(c).css("overflow");this.containment=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):
c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=b}}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,
c){c||(c=this.position);var b="absolute"==b?1:-1,d="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*b),left:c.left+this.offset.relative.left*
b+this.offset.parent.left*b-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,d="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),l=b.pageX,h=b.pageY;if(this.originalPosition){var f;this.containment&&(this.relative_container?
(f=this.relative_container.offset(),f=[this.containment[0]+f.left,this.containment[1]+f.top,this.containment[2]+f.left,this.containment[3]+f.top]):f=this.containment,b.pageX-this.offset.click.left<f[0]&&(l=f[0]+this.offset.click.left),b.pageY-this.offset.click.top<f[1]&&(h=f[1]+this.offset.click.top),b.pageX-this.offset.click.left>f[2]&&(l=f[2]+this.offset.click.left),b.pageY-this.offset.click.top>f[3]&&(h=f[3]+this.offset.click.top));c.grid&&(h=this.originalPageY+Math.round((h-this.originalPageY)/
c.grid[1])*c.grid[1],h=f?!(h-this.offset.click.top<f[1]||h-this.offset.click.top>f[3])?h:!(h-this.offset.click.top<f[1])?h-c.grid[1]:h+c.grid[1]:h,l=this.originalPageX+Math.round((l-this.originalPageX)/c.grid[0])*c.grid[0],l=f?!(l-this.offset.click.left<f[0]||l-this.offset.click.left>f[2])?l:!(l-this.offset.click.left<f[0])?l-c.grid[0]:l+c.grid[0]:l)}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?
0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},
_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.13"});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,l=a.extend({},
c,{item:d.element});d.sortables=[];a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,l))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=
!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)?
(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=
d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,
!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor"));b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable",
"opacity",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;b.css("opacity")&&(c._opacity=b.css("opacity"));b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),
d=c.options,e=!1;if(c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName){if(!d.axis||"x"!=d.axis)c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed);if(!d.axis||"y"!=d.axis)c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=
e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed)}else{if(!d.axis||"x"!=d.axis)b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed));if(!d.axis||"y"!=d.axis)b.pageX-a(document).scrollLeft()<
d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed))}!1!==e&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=
a(this),e=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,l=e.snapTolerance,h=c.offset.left,f=h+d.helperProportions.width,m=c.offset.top,i=m+d.helperProportions.height,g=d.snapElements.length-1;0<=g;g--){var n=d.snapElements[g].left,k=n+d.snapElements[g].width,q=d.snapElements[g].top,j=q+d.snapElements[g].height;if(n-l<h&&h<k+l&&q-l<m&&m<j+l||n-l<
h&&h<k+l&&q-l<i&&i<j+l||n-l<f&&f<k+l&&q-l<m&&m<j+l||n-l<f&&f<k+l&&q-l<i&&i<j+l){if("inner"!=e.snapMode){var o=Math.abs(q-i)<=l,p=Math.abs(j-m)<=l,u=Math.abs(n-f)<=l,s=Math.abs(k-h)<=l;o&&(c.position.top=d._convertPositionTo("relative",{top:q-d.helperProportions.height,left:0}).top-d.margins.top);p&&(c.position.top=d._convertPositionTo("relative",{top:j,left:0}).top-d.margins.top);u&&(c.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left-d.margins.left);s&&
(c.position.left=d._convertPositionTo("relative",{top:0,left:k}).left-d.margins.left)}var v=o||p||u||s;if("outer"!=e.snapMode&&(o=Math.abs(q-m)<=l,p=Math.abs(j-i)<=l,u=Math.abs(n-h)<=l,s=Math.abs(k-f)<=l,o&&(c.position.top=d._convertPositionTo("relative",{top:q,left:0}).top-d.margins.top),p&&(c.position.top=d._convertPositionTo("relative",{top:j-d.helperProportions.height,left:0}).top-d.margins.top),u&&(c.position.left=d._convertPositionTo("relative",{top:0,left:n}).left-d.margins.left),s))c.position.left=
d._convertPositionTo("relative",{top:0,left:k-d.helperProportions.width}).left-d.margins.left;!d.snapElements[g].snapping&&(o||p||u||s||v)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[g].item}));d.snapElements[g].snapping=o||p||u||s||v}else d.snapElements[g].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[g].item})),d.snapElements[g].snapping=!1}}});a.ui.plugin.add("draggable",
"stack",{start:function(){var b=a(this).data("draggable").options,b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=c+a});this[0].style.zIndex=c+b.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;b.css("zIndex")&&(c._zIndex=b.css("zIndex"));b.css("zIndex",c.zIndex)},
stop:function(b,c){b=a(this).data("draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(a){return a.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);
b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(c&&(c.currentItem||c.element)[0]!=this.element[0])if(this.accept.call(this.element[0],c.currentItem||c.element))this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
b,this.ui(c))},_out:function(b){var c=a.ui.ddmanager.current;if(c&&(c.currentItem||c.element)[0]!=this.element[0])if(this.accept.call(this.element[0],c.currentItem||c.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,
"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1});return e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):
!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.13"});a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,l=e+b.helperProportions.width,h=(b.positionAbs||b.position.absolute).top,f=h+b.helperProportions.height,m=c.offset.left,i=m+c.proportions.width,g=c.offset.top,n=g+c.proportions.height;switch(d){case "fit":return m<=e&&l<=i&&g<=h&&f<=n;
case "intersect":return m<e+b.helperProportions.width/2&&l-b.helperProportions.width/2<i&&g<h+b.helperProportions.height/2&&f-b.helperProportions.height/2<n;case "pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,g,m,c.proportions.height,c.proportions.width);case "touch":return(h>=g&&h<=n||f>=g&&f<=n||h<g&&f>n)&&(e>=m&&e<=i||l>=m&&l<=i||e<m&&l>i);default:return!1}};
a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,l=(b.currentItem||b.element).find(":data(droppable)").andSelf(),h=0;a:for(;h<d.length;h++)if(!(d[h].options.disabled||b&&!d[h].accept.call(d[h].element[0],b.currentItem||b.element))){for(var f=0;f<l.length;f++)if(l[f]==d[h].element[0]){d[h].proportions.height=0;continue a}d[h].visible="none"!=d[h].element.css("display");d[h].visible&&("mousedown"==
e&&d[h]._activate.call(d[h],c),d[h].offset=d[h].element.offset(),d[h].proportions={width:d[h].element[0].offsetWidth,height:d[h].element[0].offsetHeight})}},drop:function(b,c){var d=!1;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options&&(!this.options.disabled&&(this.visible&&a.ui.intersect(b,this,this.options.tolerance))&&(d=d||this._drop.call(this,c)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)))this.isout=1,this.isover=
0,this._deactivate.call(this,c)});return d},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance);if(d=!d&&1==this.isover?"isout":d&&0==this.isover?"isover":null){var e;if(this.options.greedy){var l=this.element.parents(":data(droppable):eq(0)");l.length&&(e=a.data(l[0],"droppable"),e.greedyChild=
"isover"==d?1:0)}e&&"isover"==d&&(e.isover=0,e.isout=1,e._out.call(e,c));this[d]=1;this["isout"==d?"isover":"isout"]=0;this["isover"==d?"_over":"_out"].call(this,c);e&&"isout"==d&&(e.isout=0,e.isover=1,e._over.call(e,c))}}})}}})(jQuery);
(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();
this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=
c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var d=null,e=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==e)return d=a(this),!1});a.data(b.target,"sortable-item")==e&&(d=a(b.target));if(!d)return!1;if(this.options.handle&&!c){var l=!1;a(this.options.handle,d).find("*").andSelf().each(function(){this==
b.target&&(l=!0)});if(!l)return!1}this.currentItem=d;this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=
this.helper.css("position");a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
c.containment&&this._setContainment();c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",b,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return!0},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity)?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+
c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)));!1!==d&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";
if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";for(c=this.items.length-1;0<=c;c--){var d=this.items[c],e=d.item[0],l=this._intersectsWithPointer(d);if(l&&e!=this.currentItem[0]&&this.placeholder[1==l?"next":"prev"]()[0]!=e&&!a.ui.contains(this.placeholder[0],e)&&("semi-dynamic"==this.options.type?!a.ui.contains(this.element[0],e):1)){this.direction=1==l?"down":"up";if("pointer"==this.options.tolerance||this._intersectsWithSides(d))this._rearrange(b,d);
else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,c=d.placeholder.offset();d.reverting=!0;a(this.helper).animate({left:c.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?
0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",
null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):
a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[],b=b||{};a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))});!d.length&&b.key&&d.push(b.key+"=");return d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[],b=b||{};c.each(function(){d.push(a(b.item||this).attr(b.attribute||
"id")||"")});return d},_intersectsWith:function(a){var c=this.positionAbs.left,d=c+this.helperProportions.width,e=this.positionAbs.top,l=e+this.helperProportions.height,h=a.left,f=h+a.width,m=a.top,i=m+a.height,g=this.offset.click.top,n=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?e+g>m&&e+g<i&&c+n>h&&c+n<f:h<c+this.helperProportions.width/
2&&d-this.helperProportions.width/2<f&&m<e+this.helperProportions.height/2&&l-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),c=c&&b,b=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return!c?!1:this.floating?d&&"right"==d||"down"==b?2:1:b&&("down"==b?2:1)},_intersectsWithSides:function(b){var c=
a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"==e&&b||"left"==e&&!b:d&&("down"==d&&c||"up"==d&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-
this.lastPositionAbs.left;return 0!=a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(b=e.length-1;0<=b;b--)for(var l=a(e[b]),h=l.length-1;0<=h;h--){var f=a.data(l[h],"sortable");f&&(f!=this&&!f.options.disabled)&&d.push([a.isFunction(f.options.items)?f.options.items.call(f.element):
a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=d.length-1;0<=b;b--)d[b][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),c=0;c<this.items.length;c++)for(var d=
0;d<a.length;d++)a[d]==this.items[c].item[0]&&this.items.splice(c,1)},_refreshItems:function(b){this.items=[];this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e)for(var l=e.length-1;0<=l;l--)for(var h=a(e[l]),f=h.length-1;0<=f;f--){var m=a.data(h[f],"sortable");m&&(m!=this&&!m.options.disabled)&&(d.push([a.isFunction(m.options.items)?m.options.items.call(m.element[0],
b,{item:this.currentItem}):a(m.options.items,m.element),m]),this.containers.push(m))}for(l=d.length-1;0<=l;l--){b=d[l][1];e=d[l][0];f=0;for(h=e.length;f<h;f++)m=a(e[f]),m.data("sortable-item",b),c.push({item:m,instance:b,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;0<=c;c--){var d=this.items[c];if(!(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])){var e=
this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());e=e.offset();d.left=e.left;d.top=e.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)e=this.containers[c].element.offset(),this.containers[c].containerCache.left=e.left,this.containers[c].containerCache.top=e.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),
this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];e||(b.style.visibility="hidden");return b},update:function(a,b){if(!e||d.forcePlaceholderSize)b.height()||
b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-
1;0<=e;e--)if(!a.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!c||!a.ui.contains(this.containers[e].element[0],c.element[0]))c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=
1;else if(this.currentContainer!=this.containers[d]){for(var c=1E4,e=null,l=this.positionAbs[this.containers[d].floating?"left":"top"],h=this.items.length-1;0<=h;h--)if(a.ui.contains(this.containers[d].element[0],this.items[h].item[0])){var f=this.items[h][this.containers[d].floating?"left":"top"];Math.abs(f-l)<c&&(c=Math.abs(f-l),e=this.items[h])}if(e||this.options.dropOnEmpty)this.currentContainer=this.containers[d],e?this._rearrange(b,e,null,!0):this._rearrange(b,null,this.containers[d].element,
!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;b.parents("body").length||a("parent"!=c.appendTo?
c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);b[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(""==b[0].style.width||c.forceHelperSize)&&b.width(this.currentItem.width());(""==b[0].style.height||c.forceHelperSize)&&b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){"string"==
typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&
(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==
this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var b=this.options;"parent"==b.containment&&(b.containment=this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],b=a(b.containment).offset(),d="hidden"!=a(c).css("overflow");this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||
0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var b="absolute"==b?1:-1,d="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:
this.scrollParent,e=/(html|body)/i.test(d[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,d="absolute"==
this.cssPosition&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);"relative"==this.cssPosition&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var l=b.pageX,h=b.pageY;if(this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(l=this.containment[0]+this.offset.click.left),
b.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(l=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),c.grid))h=this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1],h=this.containment?!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:!(h-this.offset.click.top<
this.containment[1])?h-c.grid[1]:h+c.grid[1]:h,l=this.originalPageX+Math.round((l-this.originalPageX)/c.grid[0])*c.grid[0],l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l:!(l-this.offset.click.left<this.containment[0])?l-c.grid[0]:l+c.grid[0]:l;return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?
0:d.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,c,d,e){d?d[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?c.item[0]:c.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var l=this,h=this.counter;window.setTimeout(function(){h==
l.counter&&l.refreshPositions(!e)},0)},_clear:function(b,c){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if("auto"==this._storedCSS[e]||"static"==this._storedCSS[e])this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",
a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(e=this.containers.length-1;0<=e;e--)a.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",
b,this._uiHash(this))}}.call(this,this.containers[e])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[e])))}for(e=this.containers.length-1;0<=e;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=
0);this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});a.extend(a.ui.sortable,
{version:"1.8.13"})})(jQuery);
(function(a,b){function c(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),
weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,
beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=d(a('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function d(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",
"mouseout",function(){a(this).removeClass("ui-state-hover");-1!=this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!=this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){if(!a.datepicker._isDisabledDatepicker(h.inline?b.parent()[0]:h.input[0]))a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
a(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover")})}function e(f,c){a.extend(f,c);for(var d in c)if(null==c[d]||c[d]==b)f[d]=c[d];return f}a.extend(a.ui,{datepicker:{version:"1.8.13"}});var l=(new Date).getTime(),h;a.extend(c.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},
_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){e(this._defaults,a||{});return this},_attachDatepicker:function(b,c){var d=null,g;for(g in this._defaults){var n=b.getAttribute("date:"+g);if(n){d=d||{};try{d[g]=eval(n)}catch(k){d[g]=n}}}g=b.nodeName.toLowerCase();n="div"==g||"span"==g;b.id||(this.uuid+=1,b.id="dp"+this.uuid);var e=this._newInst(a(b),n);e.settings=a.extend({},c||{},d||{});"input"==g?this._connectDatepicker(b,e):n&&this._inlineDatepicker(b,e)},_newInst:function(b,
c){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:!c?this.dpDiv:d(a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]);c.trigger=a([]);d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",
function(a,b,f){c.settings[b]=f}).bind("getData.datepicker",function(a,b){return this._get(c,b)}),this._autoSize(c),a.data(b,"datepicker",c))},_attachments:function(b,c){var d=this._get(c,"appendText"),g=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=a('<span class="'+this._appendClass+'">'+d+"</span>"),b[g?"before":"after"](c.append));b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");("focus"==d||"both"==d)&&b.focus(this._showDatepicker);
if("button"==d||"both"==d){var d=this._get(c,"buttonText"),n=this._get(c,"buttonImage");c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:n,alt:d,title:d}):a('<button type="button"></button>').addClass(this._triggerClass).html(""==n?d:a("<img/>").attr({src:n,alt:d,title:d})));b[g?"before":"after"](c.trigger);c.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput==b[0]?a.datepicker._hideDatepicker():a.datepicker._showDatepicker(b[0]);
return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,f=0,c=0;c<a.length;c++)a[c].length>b&&(b=a[c].length,f=c);return f};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(b,c){var d=a(b);
d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv).bind("setData.datepicker",function(a,b,f){c.settings[b]=f}).bind("getData.datepicker",function(a,b){return this._get(c,b)}),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.dpDiv.show())},_dialogDatepicker:function(b,c,d,g,n){b=this._dialogInst;b||(this.uuid+=1,this._dialogInput=a('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),
this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b));e(b.settings,g||{});c=c&&c.constructor==Date?this._formatDate(b,c):c;this._dialogInput.val(c);this._pos=n?n.length?n:[n.pageX,n.pageY]:null;this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/
2-150+(document.documentElement.scrollTop||document.body.scrollTop)]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=d;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var g=b.nodeName.toLowerCase();a.removeData(b,
"datepicker");"input"==g?(d.append.remove(),d.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==g||"span"==g)&&c.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(b){var c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var g=b.nodeName.toLowerCase();if("input"==g)b.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=
!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==g||"span"==g)c=c.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled");this._disabledInputs=a.map(this._disabledInputs,function(a){return a==b?null:a})}},_disableDatepicker:function(b){var c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var g=b.nodeName.toLowerCase();if("input"==g)b.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=
!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==g||"span"==g)c=c.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled");this._disabledInputs=a.map(this._disabledInputs,function(a){return a==b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==
a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,d,i){var g=this._getInst(c);if(2==arguments.length&&"string"==typeof d)return"defaults"==d?a.extend({},a.datepicker._defaults):g?"all"==d?a.extend({},g.settings):this._get(g,d):null;var n=d||{};"string"==typeof d&&(n={},n[d]=i);if(g){this._curInst==g&&this._hideDatepicker();var k=this._getDateDatepicker(c,!0),h=this._getMinMaxDate(g,
"min"),j=this._getMinMaxDate(g,"max");e(g.settings,n);null!==h&&(n.dateFormat!==b&&n.minDate===b)&&(g.settings.minDate=this._formatDate(g,h));null!==j&&(n.dateFormat!==b&&n.maxDate===b)&&(g.settings.maxDate=this._formatDate(g,j));this._attachments(a(c),g);this._autoSize(g);this._setDate(g,k);this._updateAlternate(g);this._updateDatepicker(g)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,
b){if(a=this._getInst(a))this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a)},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(b){var c=a.datepicker._getInst(b.target),d=!0,g=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();d=!1;break;case 13:return d=a("td."+a.datepicker._dayOverClass+":not(."+
a.datepicker._currentClass+")",c.dpDiv),d[0]?a.datepicker._selectDay(b.target,c.selectedMonth,c.selectedYear,d[0]):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
d=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);d=b.ctrlKey||b.metaKey;break;case 37:if(b.ctrlKey||b.metaKey)a.datepicker._adjustDate(b.target,g?1:-1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");d=b.ctrlKey||b.metaKey;break;case 39:if(b.ctrlKey||
b.metaKey)a.datepicker._adjustDate(b.target,g?-1:1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");d=b.ctrlKey||b.metaKey;break;default:d=!1}else 36==b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):d=!1;d&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var d=a.datepicker._getInst(c.target);
if(a.datepicker._get(d,"constrainInput")){var d=a.datepicker._possibleChars(a.datepicker._get(d,"dateFormat")),i=String.fromCharCode(c.charCode==b?c.keyCode:c.charCode);return c.ctrlKey||c.metaKey||" ">i||!d||-1<d.indexOf(i)}},_doKeyUp:function(b){b=a.datepicker._getInst(b.target);if(b.input.val()!=b.lastVal)try{if(a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b)}catch(c){a.datepicker.log(c)}return!0},_showDatepicker:function(b){b=b.target||b;"input"!=b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!(a.datepicker._isDisabledDatepicker(b)||a.datepicker._lastInput==b)){var c=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!=c&&a.datepicker._curInst.dpDiv.stop(!0,!0);var d=a.datepicker._get(c,"beforeShow");e(c.settings,d?d.apply(b,[b,c]):{});c.lastVal=null;a.datepicker._lastInput=b;a.datepicker._setDateFromField(c);
a.datepicker._inDialog&&(b.value="");a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight);var g=!1;a(b).parents().each(function(){g=g|a(this).css("position")=="fixed";return!g});g&&a.browser.opera&&(a.datepicker._pos[0]-=document.documentElement.scrollLeft,a.datepicker._pos[1]-=document.documentElement.scrollTop);d={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=null;c.dpDiv.empty();c.dpDiv.css({position:"absolute",display:"block",
top:"-1000px"});a.datepicker._updateDatepicker(c);d=a.datepicker._checkOffset(c,d,g);c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:d.left+"px",top:d.top+"px"});if(!c.inline){var d=a.datepicker._get(c,"showAnim"),n=a.datepicker._get(c,"duration"),k=function(){var b=c.dpDiv.find("iframe.ui-datepicker-cover");if(b.length){var f=a.datepicker._getBorders(c.dpDiv);b.css({left:-f[0],top:-f[1],width:c.dpDiv.outerWidth(),height:c.dpDiv.outerHeight()})}};
c.dpDiv.zIndex(a(b).zIndex()+1);a.datepicker._datepickerShowing=!0;a.effects&&a.effects[d]?c.dpDiv.show(d,a.datepicker._get(c,"showOptions"),n,k):c.dpDiv[d||"show"](d?n:null,k);(!d||!n)&&k();c.input.is(":visible")&&!c.input.is(":disabled")&&c.input.focus();a.datepicker._curInst=c}}},_updateDatepicker:function(b){var c=a.datepicker._getBorders(b.dpDiv);h=b;b.dpDiv.empty().append(this._generateHTML(b));var d=b.dpDiv.find("iframe.ui-datepicker-cover");d.length&&d.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),
height:b.dpDiv.outerHeight()});b.dpDiv.find("."+this._dayOverClass+" a").mouseover();c=this._getNumberOfMonths(b);d=c[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<d&&b.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",17*d+"em");b.dpDiv[(1!=c[0]||1!=c[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b==a.datepicker._curInst&&a.datepicker._datepickerShowing&&b.input&&
b.input.is(":visible")&&!b.input.is(":disabled")&&b.input[0]!=document.activeElement&&b.input.focus();if(b.yearshtml){var g=b.yearshtml;setTimeout(function(){g===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);g=b.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(b,c,d){var g=b.dpDiv.outerWidth(),
e=b.dpDiv.outerHeight(),k=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,j=document.documentElement.clientWidth+a(document).scrollLeft(),o=document.documentElement.clientHeight+a(document).scrollTop();c.left-=this._get(b,"isRTL")?g-k:0;c.left-=d&&c.left==b.input.offset().left?a(document).scrollLeft():0;c.top-=d&&c.top==b.input.offset().top+h?a(document).scrollTop():0;c.left-=Math.min(c.left,c.left+g>j&&j>g?Math.abs(c.left+g-j):0);c.top-=Math.min(c.top,c.top+e>o&&o>e?Math.abs(e+h):
0);return c},_findPos:function(b){for(var c=this._get(this._getInst(b),"isRTL");b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b[c?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var c=this._curInst;if(c&&!(b&&c!=a.data(b,"datepicker"))&&this._datepickerShowing){var b=this._get(c,"showAnim"),d=this._get(c,"duration"),g=function(){a.datepicker._tidyDialog(c);this._curInst=null};a.effects&&a.effects[b]?c.dpDiv.hide(b,a.datepicker._get(c,
"showOptions"),d,g):c.dpDiv["slideDown"==b?"slideUp":"fadeIn"==b?"fadeOut":"hide"](b?d:null,g);b||g();if(b=this._get(c,"onClose"))b.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]);this._datepickerShowing=!1;this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){a.datepicker._curInst&&
(b=a(b.target),b[0].id!=a.datepicker._mainDivId&&0==b.parents("#"+a.datepicker._mainDivId).length&&!b.hasClass(a.datepicker.markerClassName)&&!b.hasClass(a.datepicker._triggerClass)&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)&&a.datepicker._hideDatepicker())},_adjustDate:function(b,c,d){var b=a(b),g=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(g,c+("M"==d?this._get(g,"showCurrentAtPos"):0),d),this._updateDatepicker(g))},_gotoToday:function(b){var b=
a(b),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate();c.drawMonth=c.selectedMonth=d.getMonth();c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c);this._adjustDate(b)},_selectMonthYear:function(b,c,d){var b=a(b),g=this._getInst(b[0]);g._selectingMonthYear=!1;g["selected"+("M"==d?"Month":"Year")]=g["draw"+("M"==d?"Month":
"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(b)},_clickMonthYear:function(b){var c=this._getInst(a(b)[0]);c.input&&c._selectingMonthYear&&setTimeout(function(){c.input.focus()},0);c._selectingMonthYear=!c._selectingMonthYear},_selectDay:function(b,c,d,g){var e=a(b);!a(g).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])&&(e=this._getInst(e[0]),e.selectedDay=e.currentDay=a("a",g).html(),e.selectedMonth=e.currentMonth=c,e.selectedYear=
e.currentYear=d,this._selectDate(b,this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(b){b=a(b);this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(b,c){b=this._getInst(a(b)[0]);c=null!=c?c:this._formatDate(b);b.input&&b.input.val(c);this._updateAlternate(b);var d=this._get(b,"onSelect");d?d.apply(b.input?b.input[0]:null,[c,b]):b.input&&b.input.trigger("change");b.inline?this._updateDatepicker(b):(this._hideDatepicker(),this._lastInput=b.input[0],"object"!=
typeof b.input[0]&&b.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c=this._get(b,"altField");if(c){var d=this._get(b,"altFormat")||this._get(b,"dateFormat"),g=this._getDate(b),e=this.formatDate(d,g,this._getFormatConfig(b));a(c).each(function(){a(this).val(e)})}},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-
a)/864E5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";c="object"==typeof c?c.toString():c+"";if(""==c)return null;for(var g=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,g="string"!=typeof g?g:(new Date).getFullYear()%100+parseInt(g,10),e=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,k=(d?d.dayNames:null)||this._defaults.dayNames,h=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,j=(d?d.monthNames:null)||this._defaults.monthNames,o=
d=-1,p=-1,u=-1,s=!1,l=function(a){(a=A+1<b.length&&b.charAt(A+1)==a)&&A++;return a},r=function(a){var b=l(a),a=RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a&&b?4:"o"==a?3:2)+"}"),a=c.substring(x).match(a);if(!a)throw"Missing number at position "+x;x+=a[0].length;return parseInt(a[0],10)},t=function(b,d,f){var b=a.map(l(b)?f:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),j=-1;a.each(b,function(a,b){a=b[1];if(c.substr(x,a.length).toLowerCase()==a.toLowerCase())return j=
b[0],x+=a.length,!1});if(-1!=j)return j+1;throw"Unknown name at position "+x;},w=function(){if(c.charAt(x)!=b.charAt(A))throw"Unexpected literal at position "+x;x++},x=0,A=0;A<b.length;A++)if(s)"'"==b.charAt(A)&&!l("'")?s=!1:w();else switch(b.charAt(A)){case "d":p=r("d");break;case "D":t("D",e,k);break;case "o":u=r("o");break;case "m":o=r("m");break;case "M":o=t("M",h,j);break;case "y":d=r("y");break;case "@":var y=new Date(r("@")),d=y.getFullYear(),o=y.getMonth()+1,p=y.getDate();break;case "!":y=
new Date((r("!")-this._ticksTo1970)/1E4);d=y.getFullYear();o=y.getMonth()+1;p=y.getDate();break;case "'":l("'")?w():s=!0;break;default:w()}-1==d?d=(new Date).getFullYear():100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=g?0:-100));if(-1<u){o=1;p=u;do{g=this._getDaysInMonth(d,o-1);if(p<=g)break;o++;p-=g}while(1)}y=this._daylightSavingAdjust(new Date(d,o-1,p));if(y.getFullYear()!=d||y.getMonth()+1!=o||y.getDate()!=p)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",
ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,k=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,c=(c?c.monthNames:null)||this._defaults.monthNames,
h=function(b){(b=u+1<a.length&&a.charAt(u+1)==b)&&u++;return b},j=function(a,b,c){b=""+b;if(h(a))for(;b.length<c;)b="0"+b;return b},o="",p=!1;if(b)for(var u=0;u<a.length;u++)if(p)"'"==a.charAt(u)&&!h("'")?p=!1:o+=a.charAt(u);else switch(a.charAt(u)){case "d":o+=j("d",b.getDate(),2);break;case "D":var s;s=b.getDay();var l=d,r=e;s=h("D")?r[s]:l[s];o+=s;break;case "o":o+=j("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":o+=j("m",b.getMonth()+1,2);break;case "M":s=
b.getMonth();l=k;r=c;s=h("M")?r[s]:l[s];o+=s;break;case "y":o+=h("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":o+=b.getTime();break;case "!":o+=1E4*b.getTime()+this._ticksTo1970;break;case "'":h("'")?o+="'":p=!0;break;default:o+=a.charAt(u)}return o},_possibleChars:function(a){for(var b="",c=!1,d=function(b){(b=e+1<a.length&&a.charAt(e+1)==b)&&e++;return b},e=0;e<a.length;e++)if(c)"'"==a.charAt(e)&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case "d":case "m":case "y":case "@":b+=
"0123456789";break;case "D":case "M":return null;case "'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,k;e=k=this._getDefaultDate(a);var h=this._getFormatConfig(a);try{e=this.parseDate(c,d,h)||k}catch(j){this.log(j),d=b?"":d}a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=
e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();a.currentDay=d?e.getDate():0;a.currentMonth=d?e.getMonth():0;a.currentYear=d?e.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e;if(null==c||""===c)e=d;else{var h;if("string"==typeof c)a:{e=c;try{h=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),e,a.datepicker._getFormatConfig(b));break a}catch(k){}b=
(e.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date;h=b.getFullYear();for(var q=b.getMonth(),b=b.getDate(),j=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=j.exec(e);o;){switch(o[2]||"d"){case "d":case "D":b+=parseInt(o[1],10);break;case "w":case "W":b+=7*parseInt(o[1],10);break;case "m":case "M":q+=parseInt(o[1],10);b=Math.min(b,a.datepicker._getDaysInMonth(h,q));break;case "y":case "Y":h+=parseInt(o[1],10),b=Math.min(b,a.datepicker._getDaysInMonth(h,q))}o=j.exec(e)}h=new Date(h,q,b)}else"number"==
typeof c?isNaN(c)?e=d:(e=new Date,e.setDate(e.getDate()+c)):e=new Date(c.getTime()),h=e;e=h}if(c=(c=e)&&"Invalid Date"==c.toString()?d:c)c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0);return this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,k=a.selectedYear,b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=
b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();(e!=a.selectedMonth||k!=a.selectedYear)&&!c&&this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(b){var c=new Date,c=this._daylightSavingAdjust(new Date(c.getFullYear(),
c.getMonth(),c.getDate())),d=this._get(b,"isRTL"),e=this._get(b,"showButtonPanel"),h=this._get(b,"hideIfNoPrevNext"),k=this._get(b,"navigationAsDateFormat"),q=this._getNumberOfMonths(b),j=this._get(b,"showCurrentAtPos"),o=this._get(b,"stepMonths"),p=1!=q[0]||1!=q[1],u=this._daylightSavingAdjust(!b.currentDay?new Date(9999,9,9):new Date(b.currentYear,b.currentMonth,b.currentDay)),s=this._getMinMaxDate(b,"min"),v=this._getMinMaxDate(b,"max"),j=b.drawMonth-j,r=b.drawYear;0>j&&(j+=12,r--);if(v)for(var t=
this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-q[0]*q[1]+1,v.getDate())),t=s&&t<s?s:t;this._daylightSavingAdjust(new Date(r,j,1))>t;)j--,0>j&&(j=11,r--);b.drawMonth=j;b.drawYear=r;var t=this._get(b,"prevText"),t=!k?t:this.formatDate(t,this._daylightSavingAdjust(new Date(r,j-o,1)),this._getFormatConfig(b)),t=this._canAdjustMonth(b,-1,r,j)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+l+".datepicker._adjustDate('#"+b.id+"', -"+o+", 'M');\" title=\""+t+'"><span class="ui-icon ui-icon-circle-triangle-'+
(d?"e":"w")+'">'+t+"</span></a>":h?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+t+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"e":"w")+'">'+t+"</span></a>",w=this._get(b,"nextText"),w=!k?w:this.formatDate(w,this._daylightSavingAdjust(new Date(r,j+o,1)),this._getFormatConfig(b)),h=this._canAdjustMonth(b,1,r,j)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+l+".datepicker._adjustDate('#"+b.id+"', +"+o+", 'M');\" title=\""+w+'"><span class="ui-icon ui-icon-circle-triangle-'+
(d?"w":"e")+'">'+w+"</span></a>":h?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+w+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"w":"e")+'">'+w+"</span></a>",o=this._get(b,"currentText"),w=this._get(b,"gotoCurrent")&&b.currentDay?u:c,o=!k?o:this.formatDate(o,w,this._getFormatConfig(b)),k=!b.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+l+'.datepicker._hideDatepicker();">'+this._get(b,
"closeText")+"</button>":"",e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(d?k:"")+(this._isInRange(b,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+l+".datepicker._gotoToday('#"+b.id+"');\">"+o+"</button>":"")+(d?"":k)+"</div>":"",k=parseInt(this._get(b,"firstDay"),10),k=isNaN(k)?0:k,o=this._get(b,"showWeek"),w=this._get(b,"dayNames");this._get(b,"dayNamesShort");var x=this._get(b,"dayNamesMin"),A=
this._get(b,"monthNames"),y=this._get(b,"monthNamesShort"),E=this._get(b,"beforeShowDay"),F=this._get(b,"showOtherMonths"),G=this._get(b,"selectOtherMonths");this._get(b,"calculateWeek");for(var H=this._getDefaultDate(b),L="",N=0;N<q[0];N++){for(var M="",P=0;P<q[1];P++){var Q=this._daylightSavingAdjust(new Date(r,j,b.selectedDay)),z=" ui-corner-all",C="";if(p){C+='<div class="ui-datepicker-group';if(1<q[1])switch(P){case 0:C+=" ui-datepicker-group-first";z=" ui-corner-"+(d?"right":"left");break;case q[1]-
1:C+=" ui-datepicker-group-last";z=" ui-corner-"+(d?"left":"right");break;default:C+=" ui-datepicker-group-middle",z=""}C+='">'}for(var C=C+('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+z+'">'+(/all|left/.test(z)&&0==N?d?h:t:"")+(/all|right/.test(z)&&0==N?d?t:h:"")+this._generateMonthYearHeader(b,j,r,s,v,0<N||0<P,A,y)+'</div><table class="ui-datepicker-calendar"><thead><tr>'),J=o?'<th class="ui-datepicker-week-col">'+this._get(b,"weekHeader")+"</th>":"",z=0;7>z;z++)var B=
(z+k)%7,J=J+("<th"+(5<=(z+k+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+w[B]+'">'+x[B]+"</span></th>");C+=J+"</tr></thead><tbody>";J=this._getDaysInMonth(r,j);r==b.selectedYear&&j==b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,J));for(var z=(this._getFirstDayOfMonth(r,j)-k+7)%7,J=p?6:Math.ceil((z+J)/7),B=this._daylightSavingAdjust(new Date(r,j,1-z)),R=0;R<J;R++){for(var C=C+"<tr>",K=!o?"":'<td class="ui-datepicker-week-col">'+this._get(b,"calculateWeek")(B)+"</td>",z=0;7>
z;z++){var O=E?E.apply(b.input?b.input[0]:null,[B]):[!0,""],I=B.getMonth()!=j,S=I&&!G||!O[0]||s&&B<s||v&&B>v,K=K+('<td class="'+(5<=(z+k+6)%7?" ui-datepicker-week-end":"")+(I?" ui-datepicker-other-month":"")+(B.getTime()==Q.getTime()&&j==b.selectedMonth&&b._keyEvent||H.getTime()==B.getTime()&&H.getTime()==Q.getTime()?" "+this._dayOverClass:"")+(S?" "+this._unselectableClass+" ui-state-disabled":"")+(I&&!F?"":" "+O[1]+(B.getTime()==u.getTime()?" "+this._currentClass:"")+(B.getTime()==c.getTime()?" ui-datepicker-today":
""))+'"'+((!I||F)&&O[2]?' title="'+O[2]+'"':"")+(S?"":' onclick="DP_jQuery_'+l+".datepicker._selectDay('#"+b.id+"',"+B.getMonth()+","+B.getFullYear()+', this);return false;"')+">"+(I&&!F?"&#xa0;":S?'<span class="ui-state-default">'+B.getDate()+"</span>":'<a class="ui-state-default'+(B.getTime()==c.getTime()?" ui-state-highlight":"")+(B.getTime()==u.getTime()?" ui-state-active":"")+(I?" ui-priority-secondary":"")+'" href="#">'+B.getDate()+"</a>")+"</td>");B.setDate(B.getDate()+1);B=this._daylightSavingAdjust(B)}C+=
K+"</tr>"}j++;11<j&&(j=0,r++);C+="</tbody></table>"+(p?"</div>"+(0<q[0]&&P==q[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");M+=C}L+=M}L+=e+(a.browser.msie&&7>parseInt(a.browser.version,10)&&!b.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");b._keyEvent=!1;return L},_generateMonthYearHeader:function(a,b,c,d,e,k,h,j){var o=this._get(a,"changeMonth"),p=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),s='<div class="ui-datepicker-title">',
v="";if(k||!o)v+='<span class="ui-datepicker-month">'+h[b]+"</span>";else{for(var h=d&&d.getFullYear()==c,r=e&&e.getFullYear()==c,v=v+('<select class="ui-datepicker-month" onchange="DP_jQuery_'+l+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+l+".datepicker._clickMonthYear('#"+a.id+"');\">"),t=0;12>t;t++)if((!h||t>=d.getMonth())&&(!r||t<=e.getMonth()))v+='<option value="'+t+'"'+(t==b?' selected="selected"':"")+">"+j[t]+"</option>";v+="</select>"}u||(s+=v+(k||!o||!p?
"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",k||!p)s+='<span class="ui-datepicker-year">'+c+"</span>";else{var j=this._get(a,"yearRange").split(":"),w=(new Date).getFullYear(),h=function(a){a=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?w+parseInt(a,10):parseInt(a,10);return isNaN(a)?w:a},b=h(j[0]),j=Math.max(b,h(j[1]||"")),b=d?Math.max(b,d.getFullYear()):b,j=e?Math.min(j,e.getFullYear()):j;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+l+".datepicker._selectMonthYear('#"+
a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+l+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=j;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>";s+=a.yearshtml;a.yearshtml=null}s+=this._get(a,"yearSuffix");u&&(s+=(k||!o||!p?"&#xa0;":"")+v);return s+"</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),e=a.drawMonth+("M"==c?b:0),b=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"==c?b:0),d=this._restrictMinMax(a,
this._daylightSavingAdjust(new Date(d,e,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),a=this._getMinMaxDate(a,"max"),b=c&&b<c?c:b;return a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,
"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),
c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,
"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick).find("body").append(a.datepicker.dpDiv),
a.datepicker.initialized=!0);var c=Array.prototype.slice.call(arguments,1);return"string"==typeof b&&("isDisabled"==b||"getDate"==b||"widget"==b)||"option"==b&&2==arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){typeof b=="string"?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new c;a.datepicker.initialized=!1;a.datepicker.uuid=
(new Date).getTime();a.datepicker.version="1.8.13";window["DP_jQuery_"+l]=a})(jQuery);(function(a){a.iButton={version:"1.0.03",setDefaults:function(b){a.extend(d,b)}};a.fn.iButton=function(b){var d="string"==typeof arguments[0]&&arguments[0],e=d&&Array.prototype.slice.call(arguments,1)||arguments,i=0==this.length?null:a.data(this[0],"iButton");if(i&&d&&this.length){if("object"==d.toLowerCase())return i;if(i[d]){var g;this.each(function(b){var c=a.data(this,"iButton")[d].apply(i,e);if(0==b&&c)if(c.jquery)g=a([]).add(c);else return g=c,!1;else c&&c.jquery&&(g=g.add(c))});return g||this}return this}return this.each(function(){new c(this,
b)})};var b=0;a.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var c=function(c,f){var m=this,i=a(c),g=++b,n=!1,k,q,j,o=!1,p=null,u=null,s=null,v=null,f=a.extend({},d,f,a.metadata?i.metadata():{});j=f.labelOn==e&&f.labelOff==l;if(i.is(":checkbox, :radio")){if(a.data(i[0],"iButton"))return}else return i.find(":checkbox, :radio").iButton(f);a.data(i[0],"iButton",m);"auto"==f.resizeHandle&&(f.resizeHandle=!j);"auto"==f.resizeContainer&&(f.resizeContainer=!j);this.toggle=function(a){i.attr("checked",
arguments.length>0?a:!i[0].checked).trigger("change")};this.disable=function(b){var c=arguments.length>0?b:!n;n=c;i.attr("disabled",c);r[c?"addClass":"removeClass"](f.classDisabled);a.isFunction(f.disable)&&f.disable.apply(m,[n,i,f])};this.repaint=function(){F()};this.destroy=function(){a([i[0],r[0]]).unbind(".iButton");a(document).unbind(".iButton_"+g);r.after(i).remove();a.data(i[0],"iButton",null);a.isFunction(f.destroy)&&f.destroy.apply(m,[i,f])};i.wrap('<div class="'+a.trim(f.classContainer+
" "+f.className)+'" />').after('<div class="'+f.classHandle+'"><div class="'+f.classHandleRight+'"><div class="'+f.classHandleMiddle+'" /></div></div><div class="'+f.classLabelOff+'"><span><label>'+f.labelOff+'</label></span></div><div class="'+f.classLabelOn+'"><span><label>'+f.labelOn+'</label></span></div><div class="'+f.classPaddingLeft+'"></div><div class="'+f.classPaddingRight+'"></div>');var r=i.parent(),t=i.siblings("."+f.classHandle),w=i.siblings("."+f.classLabelOff),x=w.children("span"),
A=i.siblings("."+f.classLabelOn),y=A.children("span");if(f.resizeHandle||f.resizeContainer)k=y.outerWidth(),q=x.outerWidth();f.resizeHandle?(j=Math.min(k,q),t.css("width",j)):j=t.width();f.resizeContainer?(k=Math.max(k,q)+j+20,r.css("width",k),w.css("width",k-5)):k=r.width();var E=k-j-6,F=function(a){var b=i[0].checked?E:0;if((a=arguments.length>0?arguments[0]:true)&&f.enableFx){t.stop().animate({left:b},f.duration,f.easing);A.stop().animate({width:b+4},f.duration,f.easing);y.stop().animate({marginLeft:b-
E},f.duration,f.easing);x.stop().animate({marginRight:-b},f.duration,f.easing)}else{t.css("left",b);A.css("width",b+4);y.css("marginLeft",b-E);x.css("marginRight",-b)}};F(!1);var G=function(a){return a.pageX||(a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:0)};r.bind("mousedown.iButton touchstart.iButton",function(b){if(!a(b.target).is(":checkbox, :radio")&&!(n||!f.allowRadioUncheck&&i.is(":radio:checked"))){b.preventDefault();p=t;u=G(b);s=u-(parseInt(t.css("left"),10)||0);
v=(new Date).getTime();return false}});f.enableDrag&&a(document).bind("mousemove.iButton_"+g+" touchmove.iButton_"+g,function(a){if(p==t){a.preventDefault();a=G(a);if(a!=s){o=true;r.addClass(f.classHandleActive)}a=Math.min(1,Math.max(0,(a-s)/E));t.css("left",a*E);A.css("width",a*E+4);x.css("marginRight",-a*E);y.css("marginLeft",-(1-a)*E);return false}});a(document).bind("mouseup.iButton_"+g+" touchend.iButton_"+g,function(b){if(p!=t)return false;b.preventDefault();var c=true;if(!o||(new Date).getTime()-
v<f.clickOffset){b=i[0].checked;i.attr("checked",!b);a.isFunction(f.click)&&f.click.apply(m,[!b,i,f])}else{b=(G(b)-s)/E>=0.5;i[0].checked==b&&(c=false);i.attr("checked",b)}r.removeClass(f.classHandleActive);o=p=null;c?i.trigger("change"):F();return false});i.bind("change.iButton",function(){F();if(i.is(":radio")){var b=i[0];a(b.form?b.form[b.name]:":radio[name="+b.name+"]").filter(":not(:checked)").iButton("repaint")}a.isFunction(f.change)&&f.change.apply(m,[i,f])}).bind("focus.iButton",function(){r.addClass(f.classFocus)}).bind("blur.iButton",
function(){r.removeClass(f.classFocus)});a.isFunction(f.click)&&i.bind("click.iButton",function(){f.click.apply(m,[i[0].checked,i,f])});i.is(":disabled")&&this.disable(!0);a.browser.msie&&(r.find("*").andSelf().attr("unselectable","on"),i.bind("click.iButton",function(){i.triggerHandler("change.iButton")}));a.isFunction(f.init)&&f.init.apply(m,[i,f])},d={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},e=d.labelOn,l=d.labelOff})(jQuery);/*
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 @example Visit {@link http://jquery.com/plugins/project/jquery_history_bal} for more information.


 I would like to take this space to thank the following projects, blogs, articles and people:
 - jQuery {@link http://jquery.com/}
 - jQuery UI History - Klaus Hartl {@link http://www.stilbuero.de/jquery/ui_history/}
 - Really Simple History - Brian Dillard and Brad Neuberg {@link http://code.google.com/p/reallysimplehistory/}
 - jQuery History Plugin - Taku Sano (Mikage Sawatari) {@link http://www.mikage.to/jquery/jquery_history.html}
 - jQuery History Remote Plugin - Klaus Hartl {@link http://stilbuero.de/jquery/history/}
 - Content With Style: Fixing the back button and enabling bookmarking for ajax apps - Mike Stenhouse {@link http://www.contentwithstyle.co.uk/Articles/38/fixing-the-back-button-and-enabling-bookmarking-for-ajax-apps}
 - Bookmarks and Back Buttons {@link http://ajax.howtosetup.info/options-and-efficiencies/bookmarks-and-back-buttons/}
 - Ajax: How to handle bookmarks and back buttons - Brad Neuberg {@link http://dev.aol.com/ajax-handling-bookmarks-and-back-button}



 CHANGELOG

 v1.0.1-final, July 11, 2009
 - Restructured a little bit
 - Documented
 - Cleaned go/request

 v1.0.0-final, June 19, 2009
 - Been stable for over a year now, pushing live.

 v0.1.0-dev, July 24, 2008
 - Initial Release

*/
(function(a){"undefined"===typeof console&&(console="undefined"!==typeof window.console?window.console:{});console.log=console.log||function(){};console.debug=console.debug||console.log;console.warn=console.warn||console.log;console.error=console.error||function(){for(var a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);alert(a.join("\n"))};console.trace=console.trace||console.log;console.group=console.group||console.log;console.groupEnd=console.groupEnd||console.log;console.profile=console.profile||
console.log;console.profileEnd=console.profileEnd||console.log;a.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},format:function(a){return a=a.replace(/^.+?#/g,"").replace(/^#?\/?|\/?$/g,"")},getState:function(){return a.History.state},setState:function(b){var c=a.History,b=c.format(b);c.state=b;return c.state},getHash:function(){var b=parent&&!a.browser.msie?parent.window.location.hash:window.location.hash||location.hash;return b=a.History.format(b)},
setHash:function(b){b=a.History.format(b);b=b.replace(/^\/?|\/?(\?)|\/?$/g,"/$1");"undefined"===typeof window.location.hash&&(location.hash=b);a.browser.msie&&8>parseInt(a.browser.version,10)&&(a.History.$iframe.contentWindow.document.open(),a.History.$iframe.contentWindow.document.close())},go:function(b){var c=a.History,b=c.format(b);c.getHash()!==b?c.setHash(b):(c.setState(b),c.trigger());return!0},hashchange:function(b){var c=a.History;c.options.debug&&console.debug("History.hashchange",this,
arguments);var d=c.getHash(),e=c.getState();if(!c.$iframe&&e===d||c.$iframe&&c.hash===c.$iframe.contentWindow.document.location.hash||e===d)return!1;c.setState(d);c.trigger();return!0},bind:function(b,c){var d=a.History;c?("undefined"===typeof d.handlers.specific[b]&&(d.handlers.specific[b]=[]),d.handlers.specific[b].push(c)):d.handlers.generic.push(b);return!0},trigger:function(b){var c=a.History;"undefined"===typeof b&&(b=c.getState());var d,e,l,h;if("undefined"!==typeof c.handlers.specific[b]){h=
c.handlers.specific[b];d=0;for(e=h.length;d<e;++d)l=h[d],l(b)}h=c.handlers.generic;d=0;for(e=h.length;d<e;++d)l=h[d],l(b);return!0},construct:function(){var b=a.History;a(document).ready(function(){b.domReady()});return!0},configure:function(b){var c=a.History;c.options=a.extend(c.options,b);return!0},domReadied:!1,domReady:function(){var b=a.History;if(!b.domRedied)return b.domRedied=!0,b.$window=a(window),b.$window.bind("hashchange",this.hashchange),setTimeout(b.hashchangeLoader,200),!0},hashchangeLoader:function(){var b=
a.History;if(a.browser.msie&&8<=parseInt(a.browser.version))(c=b.getHash())&&b.$window.trigger("hashchange");else{if(a.browser.msie){b.$iframe=a('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0];b.$iframe.contentWindow.document.open();b.$iframe.contentWindow.document.close();var c=b.getHash();c&&(b.$iframe.contentWindow.document.location.hash=c);c=function(){var a=b.format(b.$iframe.contentWindow.document.location.hash);b.getState()!==a&&b.setHash(b.$iframe.contentWindow.document.location.hash);
a=b.getHash();b.getState()!==a&&b.go(a)}}else c=function(){var a=b.getHash();b.getState()!==a&&b.go(a)};a.browser.msie&&8>parseInt(a.browser.version)?setInterval(c,1500):setInterval(c,200)}return!0}};a.History.construct()})(jQuery);(function(a,b){a.store=function(b,d){var e=this;if("string"==typeof b)if(a.store.drivers[b])this.driver=a.store.drivers[b];else throw Error("Unknown driver "+b);else if("object"==typeof b){if(!a.isFunction(b.init)||!a.isFunction(b.get)||!a.isFunction(b.set)||!a.isFunction(b.del)||!a.isFunction(b.flush))throw Error("The specified driver does not fulfill the API requirements");this.driver=b}else a.each(a.store.drivers,function(){if(!a.isFunction(this.available)||!this.available())return!0;e.driver=
this;return!1===e.driver.init()?(e.driver=null,!0):!1});d||(d=a.store.serializers);this.serializers={};a.each(d,function(b){if(!a.isFunction(this.init))return true;e.serializers[b]=this;e.serializers[b].init(e.encoders,e.decoders)})};a.extend(a.store.prototype,{get:function(a){a=this.driver.get(a);return this.driver.encodes?a:this.unserialize(a)},set:function(a,b){this.driver.set(a,this.driver.encodes?b:this.serialize(b))},del:function(a){this.driver.del(a)},flush:function(){this.driver.flush()},
driver:b,encoders:[],decoders:[],serialize:function(b){var d=this;a.each(this.encoders,function(){var a=d.serializers[this+""];if(!a||!a.encode)return!0;try{b=a.encode(b)}catch(l){}});return b},unserialize:function(b){var d=this;if(!b)return b;a.each(this.decoders,function(){var a=d.serializers[this+""];if(!a||!a.decode)return!0;b=a.decode(b)});return b}});a.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(a){return!1}},
init:a.noop,get:function(a){return window.localStorage.getItem(a)},set:function(a,b){window.localStorage.setItem(a,b)},del:function(a){window.localStorage.removeItem(a)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(a){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(a){return!1}},get:function(a){this.element.load(this.nodeName);return this.element.getAttribute(a)},set:function(a,b){this.element.setAttribute(a,b);this.element.save(this.nodeName)},del:function(a){this.element.removeAttribute(a);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=a.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=a.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(b){this.cache={},window.name="{}"}},get:function(a){return this.cache[a]},set:function(a,b){this.cache[a]=
b;this.save()},del:function(a){try{delete this.cache[a]}catch(d){this.cache[a]=b}this.save()},flush:function(){window.name="{}"}}};a.store.serializers={json:{ident:"$.store.serializers.json",init:function(a,b){a.push("json");b.push("json")},encode:"object"==typeof JSON?JSON.stringify:a.JSON.stringify,decode:a.parseJSON},xml:{ident:"$.store.serializers.xml",init:function(a,b){a.unshift("xml");b.push("xml")},isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"html"!==a.nodeName.toLowerCase():
!1},encode:function(a){if(!a||a._serialized||!this.isXML(a))return a;var b={_serialized:this.ident,value:a};try{return b.value=(new XMLSerializer).serializeToString(a),b}catch(e){try{return b.value=a.xml,b}catch(l){}}return a},decode:function(a){if(!a||!a._serialized||a._serialized!=this.ident)return a;var d="DOMParser"in window&&(new DOMParser).parseFromString;!d&&window.ActiveXObject&&(d=function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b});if(!d)return b;
a.value=d.call("DOMParser"in window&&new DOMParser||window,a.value,"text/xml");return this.isXML(a.value)?a.value:b}}}})(jQuery);(function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d={},e=a.fn.position,l=a.fn.offset;a.fn.position=function(f){if(!f||!f.of)return e.apply(this,arguments);var f=a.extend({},f),k=a(f.of),h=k[0],j=(f.collision||"flip").split(" "),o=f.offset?f.offset.split(" "):[0,0],p,g,i;return 9===h.nodeType?(p=k.width(),g=k.height(),i={top:0,left:0}):h.setTimeout?(p=k.width(),g=k.height(),i={top:k.scrollTop(),left:k.scrollLeft()}):h.preventDefault?(f.at="left top",p=g=0,i={top:f.of.pageY,
left:f.of.pageX}):(p=k.outerWidth(),g=k.outerHeight(),i=k.offset()),a.each(["my","at"],function(){var a=(f[this]||"").split(" ");1===a.length&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]);a[0]=b.test(a[0])?a[0]:"center";a[1]=c.test(a[1])?a[1]:"center";f[this]=a}),1===j.length&&(j[1]=j[0]),o[0]=parseInt(o[0],10)||0,1===o.length&&(o[1]=o[0]),o[1]=parseInt(o[1],10)||0,"right"===f.at[0]?i.left+=p:"center"===f.at[0]&&(i.left+=p/2),"bottom"===f.at[1]?i.top+=
g:"center"===f.at[1]&&(i.top+=g/2),i.left+=o[0],i.top+=o[1],this.each(function(){var b=a(this),c=b.outerWidth(),e=b.outerHeight(),k=parseInt(a.curCSS(this,"marginLeft",!0))||0,h=parseInt(a.curCSS(this,"marginTop",!0))||0,m=c+k+(parseInt(a.curCSS(this,"marginRight",!0))||0),q=e+h+(parseInt(a.curCSS(this,"marginBottom",!0))||0),l=a.extend({},i),F;"right"===f.my[0]?l.left-=c:"center"===f.my[0]&&(l.left-=c/2);"bottom"===f.my[1]?l.top-=e:"center"===f.my[1]&&(l.top-=e/2);d.fractions||(l.left=Math.round(l.left),
l.top=Math.round(l.top));F={left:l.left-k,top:l.top-h};a.each(["left","top"],function(b,d){a.ui.position[j[b]]&&a.ui.position[j[b]][d](l,{targetWidth:p,targetHeight:g,elemWidth:c,elemHeight:e,collisionPosition:F,collisionWidth:m,collisionHeight:q,offset:o,my:f.my,at:f.at})});a.fn.bgiframe&&b.bgiframe();b.offset(a.extend(l,{using:f.using}))})};a.ui.position={fit:{left:function(b,c){var d=a(window),d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=0<d?b.left-d:Math.max(b.left-
c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=0<d?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if("center"!==c.at[0]){var d=a(window),d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),j="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,e="left"===c.at[0]?c.targetWidth:-c.targetWidth,p=-2*c.offset[0];b.left+=0>c.collisionPosition.left?j+
e+p:0<d?j+e+p:0}},top:function(b,c){if("center"!==c.at[1]){var d=a(window),d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),j="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,e="top"===c.at[1]?c.targetHeight:-c.targetHeight,p=-2*c.offset[1];b.top+=0>c.collisionPosition.top?j+e+p:0<d?j+e+p:0}}}};a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),j=d.offset(),e=parseInt(a.curCSS(b,"top",
!0),10)||0,p=parseInt(a.curCSS(b,"left",!0),10)||0,j={top:c.top-j.top+e,left:c.left-j.left+p};"using"in c?c.using.call(b,j):d.css(j)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):l.call(this)});a.curCSS||(a.curCSS=a.css);var h=document.getElementsByTagName("body")[0],f=document.createElement("div"),m,i;m=document.createElement(h?"div":
"body");i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&a.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(var g in i)m.style[g]=i[g];m.appendChild(f);i=h||document.documentElement;i.insertBefore(m,i.firstChild);f.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";f=a(f).offset(function(a,b){return b}).offset();m.innerHTML="";i.removeChild(m);h=f.top+f.left+(h?2E3:0);d.fractions=21<h&&22>h})(jQuery);(function(a){a.widget("ui.autocomplete",{options:{minLength:1,delay:300},_create:function(){var b=this,c=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._move("previous",c);c.preventDefault();
break;case e.DOWN:b._move("next",c);c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&c.preventDefault();case e.TAB:if(!b.menu.active)break;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term);b.close(c);break;case e.LEFT:case e.RIGHT:case e.SHIFT:case e.CONTROL:case e.ALT:case e.COMMAND:case e.COMMAND_RIGHT:case e.INSERT:case e.CAPS_LOCK:case e.END:case e.HOME:break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.search(null,c)},b.options.delay)}}).bind("focus.autocomplete",
function(){b.selectedItem=null;b.previous=b.element.val()}).bind("blur.autocomplete",function(a){clearTimeout(b.searching);b.closing=setTimeout(function(){b.close(a);b._change(a)},150)});this._initSource();this.response=function(){return b._response.apply(b,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo("body",c).mousedown(function(){setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){c=c.item.data("item.autocomplete");!1!==b._trigger("focus",
null,{item:c})&&/^key/.test(a.originalEvent.type)&&b.element.val(c.value)},selected:function(a,e){e=e.item.data("item.autocomplete");!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value);b.close(a);a=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=a);b.selectedItem=e},blur:function(){b.menu.element.is(":visible")&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");
this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(b){a.Widget.prototype._setOption.apply(this,arguments);"source"===b&&this._initSource()},_initSource:function(){var b,c;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,e){e(a.ui.autocomplete.filter(b,c.term))}):"string"===typeof this.options.source?(c=this.options.source,this.source=function(b,e){a.getJSON(c,b,e)}):this.source=this.options.source},search:function(a,c){a=null!=a?a:this.element.val();
if(a.length<this.options.minLength)return this.close(c);clearTimeout(this.closing);if(!1!==this._trigger("search"))return this._search(a)},_search:function(a){this.term=this.element.addClass("ui-autocomplete-loading").val();this.source({term:a},this.response)},_response:function(a){a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close();this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this._trigger("close",
a),this.menu.element.hide(),this.menu.deactivate())},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"===typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(a){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1),d;this._renderMenu(c,a);this.menu.deactivate();this.menu.refresh();
this.menu.element.show().position({my:"left top",at:"left bottom",of:this.element,collision:"none"});a=c.width("").width();d=this.element.width();c.width(Math.max(a,d))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append("<a>"+c.label+"</a>").appendTo(b)},_move:function(a,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a))this.element.val(this.term),
this.menu.deactivate();else this.menu[a](c);else this.search(null,c)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},filter:function(b,c){var d=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery);
(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){a(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),b.select(c))});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,c){this.deactivate();if(this.hasScroll()){var d=c.offset().top-this.element.offset().top,e=this.element.attr("scrollTop"),l=this.element.height();0>d?this.element.attr("scrollTop",e+d):d>l&&this.element.attr("scrollTop",e+d-l+c.height())}this.active=c.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",a,{item:c})},deactivate:function(){this.active&&
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prev().length},last:function(){return this.active&&!this.active.next().length},move:function(a,c,d){this.active?(a=this.active[a+"All"](".ui-menu-item").eq(0),a.length?this.activate(d,a):this.activate(d,this.element.children(c))):
this.activate(d,this.element.children(c))},nextPage:function(b){if(this.hasScroll())if(!this.active||this.last())this.activate(b,this.element.children(":first"));else{var c=this.active.offset().top,d=this.element.height(),e=this.element.children("li").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return 10>b&&-10<b});e.length||(e=this.element.children(":last"));this.activate(b,e)}else this.activate(b,this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll())if(!this.active||
this.first())this.activate(b,this.element.children(":last"));else{var c=this.active.offset().top,d=this.element.height();result=this.element.children("li").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return 10>b&&-10<b});result.length||(result=this.element.children(":first"));this.activate(b,result)}else this.activate(b,this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(a){this._trigger("selected",
a,{item:this.active})}})})(jQuery);(function(a){function b(b,c,d,j){j={data:j||(c?c.data:{}),_wrap:c?c._wrap:null,tmpl:null,parent:c||null,nodes:[],calls:m,nest:i,wrap:g,html:n,update:k};b&&a.extend(j,b,{nodes:[],parent:c});d&&(j.tmpl=d,j._ctnt=j._ctnt||j.tmpl(a,j),j.key=++r,(w.length?u:p)[r]=j);return j}function c(b,e,p){var o,p=p?a.map(p,function(a){return"string"===typeof a?b.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+j+'="'+b.key+'" $2'):a:c(a,b,a._ctnt)}):b;if(e)return p;p=p.join("");p.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,
function(b,c,j,p){o=a(j).get();f(o);c&&(o=d(c).concat(o));p&&(o=o.concat(d(p)))});return o?o:d(p)}function d(b){var c=document.createElement("div");c.innerHTML=b;return a.makeArray(c.childNodes)}function e(b){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(b,c,d,j,p,e,f){b=a.tmpl.tag[d];if(!b)throw"Template command not found: "+d;d=b._default||[];e&&!/\w$/.test(p)&&(p+=e,e="");p?(p=h(p),f=f?","+h(f)+")":e?")":"",f=e?-1<p.indexOf(".")?p+e:"("+p+").call($item"+f:p,e=e?f:"(typeof("+p+")==='function'?("+p+").call($item):("+p+"))"):e=f=d.$1||"null";j=h(j);return"');"+b[c?"close":"open"].split("$notnull_1").join(p?"typeof("+p+")!=='undefined' && ("+p+")!=null":"true").split("$1a").join(e).split("$1").join(f).split("$2").join(j?j.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,
function(a,b,c,d){return(d=d?","+d+")":c?")":"")?"("+b+").call($item"+d:a}):d.$2||"")+"_.push('"})+"');}return _;")}function l(b,d){b._wrap=c(b,!0,a.isArray(d)?d:[o.test(d)?d:a(d).html()]).join("")}function h(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function f(c){function d(c){function f(a){a+=e;k=h[a]=h[a]||b(k,p[k.parent.key+e]||k.parent,null,!0)}var o,g=c,k,i;if(i=c.getAttribute(j)){for(;g.parentNode&&1===(g=g.parentNode).nodeType&&!(o=g.getAttribute(j)););if(o!==i){g=g.parentNode?
11===g.nodeType?0:g.getAttribute(j)||0:0;if(!(k=p[i]))k=u[i],k=b(k,p[g]||u[g],null,!0),k.key=++r,p[r]=k;t&&f(i)}c.removeAttribute(j)}else if(t&&(k=a.data(c,"tmplItem")))f(k.key),p[k.key]=k,g=(g=a.data(c.parentNode,"tmplItem"))?g.key:0;if(k){for(o=k;o&&o.key!=g;)o.nodes.push(c),o=o.parent;delete k._ctnt;delete k._wrap;a.data(c,"tmplItem",k)}}var e="_"+t,f,o,h={},g,k,i;g=0;for(k=c.length;g<k;g++)if(1===(f=c[g]).nodeType){o=f.getElementsByTagName("*");for(i=o.length-1;0<=i;i--)d(o[i]);d(f)}}function m(a,
b,c,d){if(!a)return w.pop();w.push({_:a,tmpl:b,item:this,data:c,options:d})}function i(b,c,d){return a.tmpl(a.template(b),c,d,this)}function g(b,c){var d=b.options||{};d.wrapped=c;return a.tmpl(a.template(b.tmpl),b.data,d,b.item)}function n(b,c){var d=this._wrap;return a.map(a(a.isArray(d)?d.join(""):d).filter(b||"*"),function(a){if(c)a=a.innerText||a.textContent;else{var b;if(!(b=a.outerHTML))b=document.createElement("div"),b.appendChild(a.cloneNode(!0)),b=b.innerHTML;a=b}return a})}function k(){var b=
this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]);a(b).remove()}var q=a.fn.domManip,j="_tmplitem",o=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,p={},u={},s,v={key:0,data:{}},r=0,t=0,w=[];a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){a.fn[b]=function(d){var j=[],d=a(d),e,f,o;e=1===this.length&&this[0].parentNode;s=p||{};if(e&&11===e.nodeType&&1===e.childNodes.length&&1===d.length)d[c](this[0]),j=this;else{f=0;for(o=d.length;f<
o;f++)t=f,e=(0<f?this.clone(!0):this).get(),a.fn[c].apply(a(d[f]),e),j=j.concat(e);t=0;j=this.pushStack(j,b,d.selector)}d=s;s=null;a.tmpl.complete(d);return j}});a.fn.extend({tmpl:function(b,c,d){return a.tmpl(this[0],b,c,d)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(b,c,d){if(b[0]&&b[0].nodeType){for(var j=a.makeArray(arguments),e=b.length,f=0,o;f<e&&!(o=a.data(b[f++],"tmplItem")););1<e&&(j[0]=[a.makeArray(b)]);o&&t&&(j[2]=
function(b){a.tmpl.afterManip(this,b,d)});q.apply(this,j)}else q.apply(this,arguments);t=0;!s&&a.tmpl.complete(p);return this}});a.extend({tmpl:function(d,j,e,f){var o=!f;if(o)f=v,d=a.template[d]||a.template(null,d),u={};else if(!d)return d=f.tmpl,p[f.key]=f,f.nodes=[],f.wrapped&&l(f,f.wrapped),a(c(f,null,f.tmpl(a,f)));if(!d)return[];"function"===typeof j&&(j=j.call(f||{}));e&&e.wrapped&&l(e,e.wrapped);j=a.isArray(j)?a.map(j,function(a){return a?b(e,f,d,a):null}):[b(e,f,d,j)];return o?a(c(f,null,
j)):j},tmplItem:function(b){var c;for(b instanceof a&&(b=b[0]);b&&1===b.nodeType&&!(c=a.data(b,"tmplItem"))&&(b=b.parentNode););return c||v},template:function(b,c){return c?("string"===typeof c?c=e(c):c instanceof a&&(c=c[0]||{}),c.nodeType&&(c=a.data(c,"tmpl")||a.data(c,"tmpl",e(c.innerHTML))),"string"===typeof b?a.template[b]=c:c):b?"string"!==typeof b?a.template(null,b):a.template[b]||a.template(null,o.test(b)?b:a(b)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});
a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},
open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){p={}},afterManip:function(b,c,d){var j=11===c.nodeType?a.makeArray(c.childNodes):1===c.nodeType?[c]:[];d.call(b,c);f(j);t++}})})(jQuery);CodeMirror.defineMode("xml",function(a,b){function c(a,b){function c(d){b.tokenize=d;return d(a,b)}var j=a.next();if("<"==j){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(e("atom","]]\>")):null:a.match("--")?c(e("comment","--\>")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(l(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=e("meta","?>"),"meta";v=a.eat("/")?"closeTag":"openTag";a.eatSpace();for(s="";j=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)s+=j;b.tokenize=d;return"tag"}if("&"==
j)return(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error";a.eatWhile(/[^&<]/);return null}function d(a,b){var j=a.next();if(">"==j||"/"==j&&a.eat(">"))return b.tokenize=c,v=">"==j?"endTag":"selfcloseTag","tag";if("="==j)return v="equals",null;if(/[\'\"]/.test(j))return b.tokenize=function(a,b){for(;!a.eol();)if(a.next()==j){b.tokenize=d;break}return"string"},b.tokenize(a,b);a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);
return"word"}function e(a,b){return function(d,j){for(;!d.eol();){if(d.match(b)){j.tokenize=c;break}d.next()}return a}}function l(a){return function(b,d){for(var j;null!=(j=b.next());){if("<"==j)return d.tokenize=l(a+1),d.tokenize(b,d);if(">"==j)if(1==a){d.tokenize=c;break}else return d.tokenize=l(a-1),d.tokenize(b,d)}return"meta"}}function h(){for(var a=arguments.length-1;0<=a;a--)r.cc.push(arguments[a])}function f(){h.apply(null,arguments);return!0}function m(){r.context&&(r.context=r.context.prev)}
function i(a){if("openTag"==a){r.tagName=s;var b=r.startOfLine;return f(n,function(a){if("selfcloseTag"==a||"endTag"==a&&p.autoSelfClosers.hasOwnProperty(r.tagName.toLowerCase()))return g(r.tagName.toLowerCase()),f();if("endTag"==a){g(r.tagName.toLowerCase());var a=r.tagName,c=p.doNotIndent.hasOwnProperty(a)||r.context&&r.context.noIndent;r.context={prev:r.context,tagName:a,indent:r.indented,startOfLine:b,noIndent:c}}return f()})}if("closeTag"==a){a=!1;r.context?r.context.tagName!=s&&(p.implicitlyClosed.hasOwnProperty(r.context.tagName.toLowerCase())&&
m(),a=!r.context||r.context.tagName!=s):a=!0;a&&(t="error");var c=a;return f(function(a){c&&(t="error");if(a=="endTag"){m();return f()}t="error";return f(arguments.callee)})}return f()}function g(a){for(var b;r.context;){b=r.context.tagName.toLowerCase();if(!p.contextGrabbers.hasOwnProperty(b)||!p.contextGrabbers[b].hasOwnProperty(a))break;m()}}function n(a){if("word"==a)return t="attribute",f(k,n);if("endTag"==a||"selfcloseTag"==a)return h();t="error";return f(n)}function k(a){if("equals"==a)return f(q,
n);p.allowMissing||(t="error");return"endTag"==a||"selfcloseTag"==a?h():f()}function q(a){if("string"==a)return f(j);if("word"==a&&p.allowUnquoted)return t="string",f();t="error";return"endTag"==a||"selfCloseTag"==a?h():f()}function j(a){return"string"==a?f(j):h()}var o=a.indentUnit,p=b.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,
p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},
thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!1}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},u=b.alignCDATA,s,v,r,t;return{startState:function(){return{tokenize:c,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(a,b){a.sol()&&(b.startOfLine=!0,b.indented=a.indentation());if(a.eatSpace())return null;t=v=s=null;var c=b.tokenize(a,b);b.type=v;if((c||v)&&"comment"!=c)for(r=
b;!(b.cc.pop()||i)(v||c););b.startOfLine=!1;return t||c},indent:function(a,b,j){var e=a.context;if(a.tokenize!=d&&a.tokenize!=c||e&&e.noIndent)return j?j.match(/^(\s*)/)[0].length:0;if(u&&/<!\[CDATA\[/.test(b))return 0;e&&/^<\//.test(b)&&(e=e.prev);for(;e&&!e.startOfLine;)e=e.prev;return e?e.indent+o:0},compareStates:function(a,b){if(a.indented!=b.indented||a.tokenize!=b.tokenize)return!1;for(var c=a.context,d=b.context;;c=c.prev,d=d.prev){if(!c||!d)return c==d;if(c.tagName!=d.tagName)return!1}},
electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});CodeMirror.defineMode("javascript",function(a,b){function c(a,b){for(var c=!1,d;null!=(d=a.next());){if(d==b&&!c)return!1;c=!c&&"\\"==d}return c}function d(a,b,c){I=a;S=c;return b}function e(a,b){var j=a.next();if('"'==j||"'"==j){var f=function(a,b){c(a,j)||(b.tokenize=e);return d("string","string")};b.tokenize=f;return f(a,b)}if(/[\[\]{}\(\),;\:\.]/.test(j))return d(j);if("0"==j&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),d("number","number");if(/\d/.test(j)||"-"==j&&a.eat(/\d/))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),
d("number","number");if("/"==j){if(a.eat("*"))return f=l,b.tokenize=f,f(a,b);if(a.eat("/"))return a.skipToEnd(),d("comment","comment");if(b.reAllowed)return c(a,"/"),a.eatWhile(/[gimy]/),d("regexp","string-2");a.eatWhile(O);return d("operator",null,a.current())}if("#"==j)return a.skipToEnd(),d("error","error");if(O.test(j))return a.eatWhile(O),d("operator",null,a.current());a.eatWhile(/[\w\$_]/);var f=a.current(),p=Q.propertyIsEnumerable(f)&&Q[f];return p&&b.kwAllowed?d(p.type,p.style,f):d("variable",
"variable",f)}function l(a,b){for(var c=!1,j;j=a.next();){if("/"==j&&c){b.tokenize=e;break}c="*"==j}return d("comment","comment")}function h(a,b,c,d,j,e){this.indented=a;this.column=b;this.type=c;this.prev=j;this.info=e;null!=d&&(this.align=d)}function f(){for(var a=arguments.length-1;0<=a;a--)D.cc.push(arguments[a])}function m(){f.apply(null,arguments);return!0}function i(a){var b=D.state;if(b.context){D.marked="def";for(var c=b.localVars;c;c=c.next)if(c.name==a)return;b.localVars={name:a,next:b.localVars}}}
function g(){D.state.context||(D.state.localVars=U);D.state.context={prev:D.state.context,vars:D.state.localVars}}function n(){D.state.localVars=D.state.context.vars;D.state.context=D.state.context.prev}function k(a,b){var c=function(){var c=D.state;c.lexical=new h(c.indented,D.stream.column(),a,null,c.lexical,b)};c.lex=!0;return c}function q(){var a=D.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function j(a){return function(b){return b==a?
m():";"==a?f():m(arguments.callee)}}function o(a){return"var"==a?m(k("vardef"),A,j(";"),q):"keyword a"==a?m(k("form"),p,o,q):"keyword b"==a?m(k("form"),o,q):"{"==a?m(k("}"),x,q):";"==a?m():"function"==a?m(L):"for"==a?m(k("form"),j("("),k(")"),E,j(")"),q,o,q):"variable"==a?m(k("stat"),v):"switch"==a?m(k("form"),p,k("}","switch"),j("{"),x,q,q):"case"==a?m(p,j(":")):"default"==a?m(j(":")):"catch"==a?m(k("form"),g,j("("),N,j(")"),o,q,n):f(k("stat"),p,j(";"),q)}function p(a){return T.hasOwnProperty(a)?
m(s):"function"==a?m(L):"keyword c"==a?m(u):"("==a?m(k(")"),u,j(")"),q,s):"operator"==a?m(p):"["==a?m(k("]"),w(p,"]"),q,s):"{"==a?m(k("}"),w(t,"}"),q,s):m()}function u(a){return a.match(/[;\}\)\],]/)?f():f(p)}function s(a,b){if("operator"==a&&/\+\+|--/.test(b))return m(s);if("operator"==a||":"==a)return m(p);if(";"!=a){if("("==a)return m(k(")"),w(p,")"),q,s);if("."==a)return m(r,s);if("["==a)return m(k("]"),p,j("]"),q,s)}}function v(a){return":"==a?m(q,o):f(s,j(";"),q)}function r(a){if("variable"==
a)return D.marked="property",m()}function t(a){"variable"==a&&(D.marked="property");if(T.hasOwnProperty(a))return m(j(":"),p)}function w(a,b){function c(d){return","==d?m(a,c):d==b?m():m(j(b))}return function(d){return d==b?m():f(a,c)}}function x(a){return"}"==a?m():f(o,x)}function A(a,b){return"variable"==a?(i(b),m(y)):m()}function y(a,b){if("="==b)return m(p,y);if(","==a)return m(A)}function E(a){return"var"==a?m(A,G):";"==a?f(G):"variable"==a?m(F):f(G)}function F(a,b){return"in"==b?m(p):m(s,G)}
function G(a,b){return";"==a?m(H):"in"==b?m(p):m(p,j(";"),H)}function H(a){")"!=a&&m(p)}function L(a,b){if("variable"==a)return i(b),m(L);if("("==a)return m(k(")"),g,w(N,")"),q,o,n)}function N(a,b){if("variable"==a)return i(b),m()}var M=a.indentUnit,P=b.json,Q,z=function(a){return{type:a,style:"keyword"}},C=z("keyword a"),J=z("keyword b"),B=z("keyword c"),R=z("operator"),K={type:"atom",style:"atom"};Q={"if":C,"while":C,"with":C,"else":J,"do":J,"try":J,"finally":J,"return":B,"break":B,"continue":B,
"new":B,"delete":B,"throw":B,"var":z("var"),"const":z("var"),let:z("var"),"function":z("function"),"catch":z("catch"),"for":z("for"),"switch":z("switch"),"case":z("case"),"default":z("default"),"in":R,"typeof":R,"instanceof":R,"true":K,"false":K,"null":K,undefined:K,NaN:K,Infinity:K};var O=/[+\-*&%=<>!?|]/,I,S,T={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},D={state:null,column:null,marked:null,cc:null},U={name:"this",next:{name:"arguments"}};q.lex=!0;return{startState:function(a){return{tokenize:e,
reAllowed:!0,kwAllowed:!0,cc:[],lexical:new h((a||0)-M,0,"block",!1),localVars:b.localVars,context:b.localVars&&{vars:b.localVars},indented:0}},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation());if(a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==I)return c;b.reAllowed=!!("operator"==I||"keyword c"==I||I.match(/^[\[{}\(,;:]$/));b.kwAllowed="."!=I;a:{var d=I,j=S,e=b.cc;D.state=b;D.stream=a;D.marked=null;D.cc=e;b.lexical.hasOwnProperty("align")||
(b.lexical.align=!0);for(;;)if((e.length?e.pop():P?p:o)(d,j)){for(;e.length&&e[e.length-1].lex;)e.pop()();if(D.marked){c=D.marked;break a}if(d="variable"==d)b:{for(d=b.localVars;d;d=d.next)if(d.name==j){d=!0;break b}d=void 0}if(d){c="variable-2";break a}break a}c=void 0}return c},indent:function(a,b){if(a.tokenize!=e)return 0;var c=b&&b.charAt(0),d=a.lexical;"stat"==d.type&&"}"==c&&(d=d.prev);var j=d.type,f=c==j;return"vardef"==j?d.indented+4:"form"==j&&"{"==c?d.indented:"stat"==j||"form"==j?d.indented+
M:"switch"==d.info&&!f?d.indented+(/^(?:case|default)\b/.test(b)?M:2*M):d.align?d.column+(f?0:1):d.indented+(f?0:M)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});CodeMirror.defineMode("css",function(a){function b(a,b){h=b;return a}function c(a,h){var i=a.next();if("@"==i)return a.eatWhile(/[\w\\\-]/),b("meta",a.current());if("/"==i&&a.eat("*"))return h.tokenize=d,d(a,h);if("<"==i&&a.eat("!"))return h.tokenize=e,e(a,h);if("="==i)b(null,"compare");else{if(("~"==i||"|"==i)&&a.eat("="))return b(null,"compare");if('"'==i||"'"==i)return h.tokenize=function(a,d){for(var e=!1,f;null!=(f=a.next())&&(f!=i||e);)e=!e&&"\\"==f;e||(d.tokenize=c);return b("string","string")},
h.tokenize(a,h);if("#"==i)return a.eatWhile(/[\w\\\-]/),b("atom","hash");if("!"==i)return a.match(/^\s*\w*/),b("keyword","important");if(/\d/.test(i))return a.eatWhile(/[\w.%]/),b("number","unit");if(/[,.+>*\/]/.test(i))return b(null,"select-op");if(/[;{}:\[\]]/.test(i))return b(null,i);a.eatWhile(/[\w\\\-]/);return b("variable","variable")}}function d(a,d){for(var e=!1,g;null!=(g=a.next());){if(e&&"/"==g){d.tokenize=c;break}e="*"==g}return b("comment","comment")}function e(a,d){for(var e=0,g;null!=
(g=a.next());){if(2<=e&&">"==g){d.tokenize=c;break}e="-"==g?e+1:0}return b("comment","comment")}var l=a.indentUnit,h;return{startState:function(a){return{tokenize:c,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var c=b.tokenize(a,b),d=b.stack[b.stack.length-1];if("hash"==h&&"rule"!=d)c="string-2";else if("variable"==c)if("rule"==d)c="number";else if(!d||"@media{"==d)c="tag";"rule"==d&&/^[\{\};]$/.test(h)&&b.stack.pop();"{"==h?"@media"==d?b.stack[b.stack.length-1]="@media{":
b.stack.push("{"):"}"==h?b.stack.pop():"@media"==h?b.stack.push("@media"):"{"==d&&"comment"!=h&&b.stack.push("rule");return c},indent:function(a,b){var c=a.stack.length;/^\}/.test(b)&&(c-="rule"==a.stack[a.stack.length-1]?2:1);return a.baseIndent+c*l},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("htmlmixed",function(a){function b(a,b){var c=l.token(a,b.htmlState);"tag"==c&&(">"==a.current()&&b.htmlState.context)&&(/^script$/i.test(b.htmlState.context.tagName)?(b.token=d,b.localState=h.startState(l.indent(b.htmlState,"")),b.mode="javascript"):/^style$/i.test(b.htmlState.context.tagName)&&(b.token=e,b.localState=f.startState(l.indent(b.htmlState,"")),b.mode="css"));return c}function c(a,b,c){var d=a.current(),b=d.search(b);-1<b&&a.backUp(d.length-b);return c}function d(a,
d){return a.match(/^<\/\s*script\s*>/i,!1)?(d.token=b,d.localState=null,d.mode="html",b(a,d)):c(a,/<\/\s*script\s*>/,h.token(a,d.localState))}function e(a,d){return a.match(/^<\/\s*style\s*>/i,!1)?(d.token=b,d.localState=null,d.mode="html",b(a,d)):c(a,/<\/\s*style\s*>/,f.token(a,d.localState))}var l=CodeMirror.getMode(a,{name:"xml",htmlMode:!0}),h=CodeMirror.getMode(a,"javascript"),f=CodeMirror.getMode(a,"css");return{startState:function(){var a=l.startState();return{token:b,localState:null,mode:"html",
htmlState:a}},copyState:function(a){if(a.localState)var b=CodeMirror.copyState(a.token==e?f:h,a.localState);return{token:a.token,localState:b,mode:a.mode,htmlState:CodeMirror.copyState(l,a.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(a,c){return a.token==b||/^\s*<\//.test(c)?l.indent(a.htmlState,c):a.token==d?h.indent(a.localState,c):f.indent(a.localState,c)},compareStates:function(a,b){return a.mode!=b.mode?!1:a.localState?CodeMirror.Pass:l.compareStates(a.htmlState,b.htmlState)},
electricChars:"/{}:"}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed");var wa_editor_key=!1,wa_editor;
function waEditorKeyCallback(a,b){var b=b||{},b=jQuery.extend({save_button:"wa-page-button",change_callback:null},b),c=$("#"+b.save_button);return a?function(a){c.length&&(a.ctrlKey&&115==a.which&&!wa_editor_key)&&(c.click(),a.preventDefault())}:function(a){wa_editor_key=!1;if(c.length&&(a.ctrlKey&&83==a.which&&(wa_editor_key=!0,c.click(),a.preventDefault()),!a.metaKey&&(33>a.which||40<a.which)&&(27<a.which||8==a.which||13==a.which)&&(112>a.which||124<a.which)&&(!a.ctrlKey||67!=a.which)))c.removeClass("green").addClass("yellow"),
b.change_callback&&"function"==typeof b.change_callback&&b.change_callback()}}
function waEditorCodeMirrorInit(a){a=a||{};a=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",type:"html"},a);a.save_button||(a.save_button=a.prefix+"button");wa_editor=CodeMirror.fromTextArea(document.getElementById(a.id),{mode:"text/"+a.type,tabMode:"indent",height:"dynamic",lineWrapping:!0,onKeyEvent:function(b,c){var d=jQuery.Event(c);d.type=="keydown"?waEditorKeyCallback(false,a)(c):(d.type="keypress")&&waEditorKeyCallback(true,a)(c)}});$(".CodeMirror-scroll").css("min-height",a.height+
"px")}
function waEditorUpdateSource(a){a=a||{};a=jQuery.extend({id:"wa-page-content"},a);a=$("#"+a.id);$(".el-rte").length&&$(".el-rte").is(":visible")?($(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))}),a.val(a.elrte("val")),wa_editor&&wa_editor.setValue(a.val()),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,
wa_url))})):wa_editor&&a.val(wa_editor.getValue())}
function waEditorInit(a){a=a||{};a=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",lang:"en"},a);a.save_button||(a.save_button=a.prefix+"button");var b=$("#"+a.id);if(!a.height){var c="div."+a.prefix+"editor",c=$(c).height()-$(c+" .wa-page-gray-toolbar").height()-92;$("div."+a.prefix+"save-panel").length&&(c-=25);$("#wa-app").height()<$("#wa").height()-$("#wa-header").height()&&(c+=$("#wa").height()-$("#wa-header").height()-$("#wa-app").height());a.height=300>c?300:c}waEditorCodeMirrorInit(a);
elRTE.prototype.beforeSave=function(){};elRTE.prototype.options.toolbars.waPageToolbar="wa_style alignment colors format indent lists wa_image wa_links wa_elements wa_tables direction".split(" ");!b.val()&&$.browser.msie&&b.val("<div></div>");b.elrte({height:a.height-53,cssfiles:[wa_url+"wa-content/css/wa/wa-1.0.css"],toolbar:"waPageToolbar",lang:a.lang,wa_image_upload:"?module=pages&action=uploadimage",wa_image_upload_path:a.upload_url,width:"100%"});"<div></div>"==b.val()&&$.browser.msie&&b.elrte("val",
"");var d=b.elrte()[0].elrte.filter.source;b.elrte()[0].elrte.filter.source=function(a){a=d.call(b.elrte()[0].elrte.filter,a);a=a.replace(/%7B\$wa_url%7D/,"{$wa_url}");return a=a.replace(/{[a-z$][^}]*}/gi,function(a,b,c){var d=c.indexOf("<\/script",b+a.length),b=c.indexOf("<script",b+a.length);if(d==-1||b!=-1&&b<d){a=a.replace(/&gt;/g,">");a=a.replace(/&lt;/g,"<");a=a.replace(/&amp;/g,"&");a=a.replace(/&quot;/g,'"')}return a})};$(".el-rte iframe").contents().keydown(waEditorKeyCallback(!1,a)).keypress(waEditorKeyCallback(!0,
a)).keyup(function(a){a.keyCode==27&&jQuery(".dialog:visible").trigger("esc")});$(".el-rte .toolbar li").click(function(){$("#"+a.save_button).removeClass("green").addClass("yellow")});$("#wa-page-settings").keydown(waEditorKeyCallback(!1,a)).keypress(waEditorKeyCallback(!0,a));$("#wysiwyg").click(function(){$.storage&&$.storage.set(wa_app+"/editor","wysiwyg");$("ul#"+a.prefix+"wysiwyg-html-toggle, ul."+a.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");$(this).parent().addClass("selected");
$("div.CodeMirror-wrap").hide();b.elrte("val",wa_editor.getValue());$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))});$(".el-rte").show();$(".el-rte iframe").contents().find("body").focus();return false});$("#html").click(function(){$.storage&&$.storage.set(wa_app+"/editor","html");$("ul#"+a.prefix+"wysiwyg-html-toggle, ul."+a.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$(this).parent().addClass("selected");$(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))});$(".el-rte").hide();$("div.CodeMirror-wrap").show();wa_editor.setValue(b.elrte("val"));wa_editor.focus();return false});$("ul#"+a.prefix+"wysiwyg-html-toggle, ul."+a.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");!$.storage||"wysiwyg"==$.storage.get(wa_app+"/editor")?($("#wysiwyg").parent().addClass("selected"),
$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))}),$("div.CodeMirror-wrap").hide()):($(".el-rte").hide(),$("#html").parent().addClass("selected"))};(function(a){function b(b,c){var d=b.plugins.highlighter,e=b.series[c.seriesIndex],g=e.markerRenderer,l=d.markerRenderer;l.style=g.style;l.lineWidth=g.lineWidth+d.lineWidthAdjust;l.size=g.size+d.sizeAdjust;var g=a.jqplot.getColorComponents(g.color),k=[g[0],g[1],g[2]];l.color="rgba("+k[0]+","+k[1]+","+k[2]+","+(0.6<=g[3]?0.6*g[3]:g[3]*(2-g[3]))+")";l.init();l.draw(e.gridData[c.pointIndex][0],e.gridData[c.pointIndex][1],d.highlightCanvas._ctx)}function c(b,c,m){var i=b.plugins.highlighter,g=i._tooltipElem,
i=a.extend(!0,{},i,c.highlighter||{});if(i.useAxesFormatters){for(var n=c._xaxis._ticks[0].formatter,k=c._yaxis._ticks[0].formatter,q=c._yaxis._ticks[0].formatString,n=n(c._xaxis._ticks[0].formatString,m.data[0]),j=[],o=1;o<i.yvalues+1;o++)j.push(k(q,m.data[o]));if("string"===typeof i.formatString)switch(i.tooltipAxes){case "both":case "xy":j.unshift(n);j.unshift(i.formatString);k=a.jqplot.sprintf.apply(a.jqplot.sprintf,j);break;case "yx":j.push(n);j.unshift(i.formatString);k=a.jqplot.sprintf.apply(a.jqplot.sprintf,
j);break;case "x":k=a.jqplot.sprintf.apply(a.jqplot.sprintf,[i.formatString,n]);break;case "y":j.unshift(i.formatString);k=a.jqplot.sprintf.apply(a.jqplot.sprintf,j);break;default:j.unshift(n),j.unshift(i.formatString),k=a.jqplot.sprintf.apply(a.jqplot.sprintf,j)}else switch(i.tooltipAxes){case "both":case "xy":k=n;for(o=0;o<j.length;o++)k+=i.tooltipSeparator+j[o];break;case "yx":k="";for(o=0;o<j.length;o++)k+=j[o]+i.tooltipSeparator;k+=n;break;case "x":k=n;break;case "y":k=j.join(i.tooltipSeparator);
break;default:k=n;for(o=0;o<j.length;o++)k+=i.tooltipSeparator+j[o]}}else"string"===typeof i.formatString?k=a.jqplot.sprintf.apply(a.jqplot.sprintf,[i.formatString].concat(m.data)):"both"==i.tooltipAxes||"xy"==i.tooltipAxes?k=a.jqplot.sprintf(i.tooltipFormatString,m.data[0])+i.tooltipSeparator+a.jqplot.sprintf(i.tooltipFormatString,m.data[1]):"yx"==i.tooltipAxes?k=a.jqplot.sprintf(i.tooltipFormatString,m.data[1])+i.tooltipSeparator+a.jqplot.sprintf(i.tooltipFormatString,m.data[0]):"x"==i.tooltipAxes?
k=a.jqplot.sprintf(i.tooltipFormatString,m.data[0]):"y"==i.tooltipAxes&&(k=a.jqplot.sprintf(i.tooltipFormatString,m.data[1]));a.isFunction(i.tooltipContentEditor)&&(k=i.tooltipContentEditor(k,m.seriesIndex,m.pointIndex,b));g.html(k);n=m.gridData[0];k=m.gridData[1];q=0;!0==c.markerRenderer.show&&(q=(c.markerRenderer.size+i.sizeAdjust)/2);j=d;c.fillToZero&&(c.fill&&0>m.data[1])&&(j=l);switch(j[e[i.tooltipLocation]]){case "nw":c=n+b._gridPadding.left-g.outerWidth(!0)-i.tooltipOffset-0.707*q;b=k+b._gridPadding.top-
i.tooltipOffset-g.outerHeight(!0)-0.707*q;break;case "n":c=n+b._gridPadding.left-g.outerWidth(!0)/2;b=k+b._gridPadding.top-i.tooltipOffset-g.outerHeight(!0)-q;break;case "ne":c=n+b._gridPadding.left+i.tooltipOffset+0.707*q;b=k+b._gridPadding.top-i.tooltipOffset-g.outerHeight(!0)-0.707*q;break;case "e":c=n+b._gridPadding.left+i.tooltipOffset+q;b=k+b._gridPadding.top-g.outerHeight(!0)/2;break;case "se":c=n+b._gridPadding.left+i.tooltipOffset+0.707*q;b=k+b._gridPadding.top+i.tooltipOffset+0.707*q;break;
case "s":c=n+b._gridPadding.left-g.outerWidth(!0)/2;b=k+b._gridPadding.top+i.tooltipOffset+q;break;case "sw":c=n+b._gridPadding.left-g.outerWidth(!0)-i.tooltipOffset-0.707*q;b=k+b._gridPadding.top+i.tooltipOffset+0.707*q;break;case "w":c=n+b._gridPadding.left-g.outerWidth(!0)-i.tooltipOffset-q;b=k+b._gridPadding.top-g.outerHeight(!0)/2;break;default:c=n+b._gridPadding.left-g.outerWidth(!0)-i.tooltipOffset-0.707*q,b=k+b._gridPadding.top-i.tooltipOffset-g.outerHeight(!0)-0.707*q}g.css("left",c);g.css("top",
b);i.fadeTooltip?g.stop(!0,!0).fadeIn(i.tooltipFadeSpeed):g.show()}a.jqplot.eventListenerHooks.push(["jqplotMouseMove",function(a,d,e,i,g){d=g.plugins.highlighter;e=g.plugins.cursor;if(d.show)if(null==i&&d.isHighlighting){var l=jQuery.Event("jqplotHighlighterUnhighlight");g.target.trigger(l);a=d.highlightCanvas._ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height);d.fadeTooltip?d._tooltipElem.fadeOut(d.tooltipFadeSpeed):d._tooltipElem.hide();d.bringSeriesToFront&&g.restorePreviousSeriesOrder();d.isHighlighting=
!1;d.currentNeighbor=null}else null!=i&&g.series[i.seriesIndex].showHighlight&&!d.isHighlighting?(l=jQuery.Event("jqplotHighlighterHighlight"),l.which=a.which,l.pageX=a.pageX,l.pageY=a.pageY,g.target.trigger(l,[i.seriesIndex,i.pointIndex,i.data,g]),d.isHighlighting=!0,d.currentNeighbor=i,d.showMarker&&b(g,i),d.showTooltip&&(!e||!e._zoom.started)&&c(g,g.series[i.seriesIndex],i),d.bringSeriesToFront&&g.moveSeriesToFront(i.seriesIndex)):null!=i&&(d.isHighlighting&&d.currentNeighbor!=i)&&g.series[i.seriesIndex].showHighlight&&
(a=d.highlightCanvas._ctx,a.clearRect(0,0,a.canvas.width,a.canvas.height),d.isHighlighting=!0,d.currentNeighbor=i,d.showMarker&&b(g,i),d.showTooltip&&(!e||!e._zoom.started)&&c(g,g.series[i.seriesIndex],i),d.bringSeriesToFront&&g.moveSeriesToFront(i.seriesIndex))}]);a.jqplot.Highlighter=function(b){this.show=a.jqplot.config.enablePlugins;this.markerRenderer=new a.jqplot.MarkerRenderer({shadow:!1});this.showMarker=!0;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=!0;this.tooltipLocation=
"nw";this.fadeTooltip=!0;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.tooltipContentEditor=null;this.useAxesFormatters=!0;this.tooltipFormatString="%.5P";this.formatString=null;this.yvalues=1;this.bringSeriesToFront=!1;this._tooltipElem;this.isHighlighting=!1;this.currentNeighbor=null;a.extend(!0,this,b)};var d="nw n ne e se s sw w".split(" "),e={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},l="se s sw w nw n ne e".split(" ");a.jqplot.Highlighter.init=
function(b,c,d){this.plugins.highlighter=new a.jqplot.Highlighter((d||{}).highlighter)};a.jqplot.Highlighter.parseOptions=function(){this.showHighlight=!0};a.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null);this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=
null);this.plugins.highlighter.highlightCanvas=new a.jqplot.GenericCanvas;this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this));this.plugins.highlighter.highlightCanvas.setContext();var b=document.createElement("div");this.plugins.highlighter._tooltipElem=a(b);this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip");this.plugins.highlighter._tooltipElem.css({position:"absolute",
display:"none"});this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)};a.jqplot.preInitHooks.push(a.jqplot.Highlighter.init);a.jqplot.preParseSeriesOptionsHooks.push(a.jqplot.Highlighter.parseOptions);a.jqplot.postDrawHooks.push(a.jqplot.Highlighter.postPlotDraw)})(jQuery);(function(a){function b(b,c,e){var f=e.plugins.cursor,k="",g=!1;f.showTooltipGridPosition&&(k=b.x+", "+b.y,g=!0);if(f.showTooltipUnitPosition)for(var h,i=0;i<f.tooltipAxisGroups.length;i++){h=f.tooltipAxisGroups[i];g&&(k+="<br />");if(f.useAxesFormatters)for(g=0;g<h.length;g++){g&&(k+=", ");var l=e.axes[h[g]]._ticks[0].formatter,k=k+l(e.axes[h[g]]._ticks[0].formatString,c[h[g]])}else k+=a.jqplot.sprintf(f.tooltipFormatString,c[h[0]],c[h[1]]);g=!0}if(f.showTooltipDataPosition){c=e.series;b=d(e,b.x,
b.y);g=!1;for(i=0;i<c.length;i++)if(c[i].show){var e=c[i].label.toString(),l=a.inArray(c[i].index,b.indices),q=h=void 0;if(-1!=l){l=b.data[l].data;if(f.useAxesFormatters){h=c[i]._xaxis._ticks[0].formatter;var q=c[i]._yaxis._ticks[0].formatter,m=c[i]._yaxis._ticks[0].formatString;h=h(c[i]._xaxis._ticks[0].formatString,l[0]);q=q(m,l[1])}else h=l[0],q=l[1];g&&(k+="<br />");k+=a.jqplot.sprintf(f.tooltipFormatString,e,h,q);g=!0}}}f._tooltipElem.html(k)}function c(b,c){var e=c.plugins.cursor,f=e.cursorCanvas._ctx;
f.clearRect(0,0,f.canvas.width,f.canvas.height);e.showVerticalLine&&e.shapeRenderer.draw(f,[[b.x,0],[b.x,f.canvas.height]]);e.showHorizontalLine&&e.shapeRenderer.draw(f,[[0,b.y],[f.canvas.width,b.y]]);f=d(c,b.x,b.y);if(e.showCursorLegend)for(var k=a(c.targetId+" td.jqplot-cursor-legend-label"),g=0;g<k.length;g++){var h=a(k[g]).data("seriesIndex"),i=c.series[h],l=i.label.toString(),q=a.inArray(h,f.indices),m=h=void 0;if(-1!=q)if(q=f.data[q].data,e.useAxesFormatters)var h=i._xaxis._ticks[0].formatter,
m=i._yaxis._ticks[0].formatter,n=i._yaxis._ticks[0].formatString,h=h(i._xaxis._ticks[0].formatString,q[0]),m=m(n,q[1]);else h=q[0],m=q[1];c.legend.escapeHtml?a(k[g]).text(a.jqplot.sprintf(e.cursorLegendFormatString,l,h,m)):a(k[g]).html(a.jqplot.sprintf(e.cursorLegendFormatString,l,h,m))}}function d(a,b){var c={indices:[],data:[]},d,e,f,k,g,h=a.plugins.cursor;for(e=0;e<a.series.length;e++)if(d=a.series[e],d.show){g=h.intersectionThreshold;d.showMarker&&(g+=d.markerRenderer.size/2);for(f=0;f<d.gridData.length;f++)k=
d.gridData[f],h.showVerticalLine&&Math.abs(b-k[0])<=g&&(c.indices.push(e),c.data.push({seriesIndex:e,pointIndex:f,gridData:k,data:d.data[f]}))}return c}function e(a,b){var c=b.plugins.cursor,d=c._tooltipElem;switch(c.tooltipLocation){case "nw":var e=a.x+b._gridPadding.left-d.outerWidth(!0)-c.tooltipOffset,c=a.y+b._gridPadding.top-c.tooltipOffset-d.outerHeight(!0);break;case "n":e=a.x+b._gridPadding.left-d.outerWidth(!0)/2;c=a.y+b._gridPadding.top-c.tooltipOffset-d.outerHeight(!0);break;case "ne":e=
a.x+b._gridPadding.left+c.tooltipOffset;c=a.y+b._gridPadding.top-c.tooltipOffset-d.outerHeight(!0);break;case "e":e=a.x+b._gridPadding.left+c.tooltipOffset;c=a.y+b._gridPadding.top-d.outerHeight(!0)/2;break;case "se":e=a.x+b._gridPadding.left+c.tooltipOffset;c=a.y+b._gridPadding.top+c.tooltipOffset;break;case "s":e=a.x+b._gridPadding.left-d.outerWidth(!0)/2;c=a.y+b._gridPadding.top+c.tooltipOffset;break;case "sw":e=a.x+b._gridPadding.left-d.outerWidth(!0)-c.tooltipOffset;c=a.y+b._gridPadding.top+
c.tooltipOffset;break;case "w":e=a.x+b._gridPadding.left-d.outerWidth(!0)-c.tooltipOffset;c=a.y+b._gridPadding.top-d.outerHeight(!0)/2;break;default:e=a.x+b._gridPadding.left+c.tooltipOffset,c=a.y+b._gridPadding.top+c.tooltipOffset}d.css("left",e);d.css("top",c)}function l(a,b,c,d,e){a.preventDefault();a.stopImmediatePropagation();a=e.plugins.cursor;a.clickReset&&a.resetZoom(e,a);e=window.getSelection;document.selection&&document.selection.empty?document.selection.empty():e&&!e().isCollapsed&&e().collapse();
return!1}function h(a,b,c,d,e){a.preventDefault();a.stopImmediatePropagation();a=e.plugins.cursor;a.dblClickReset&&a.resetZoom(e,a);e=window.getSelection;document.selection&&document.selection.empty?document.selection.empty():e&&!e().isCollapsed&&e().collapse();return!1}function f(b,c,d,e,f){e=f.plugins.cursor;e.onGrid=!1;if(e.show){a(b.target).css("cursor",e.previousCursor);if(e.showTooltip&&(!e._zoom.zooming||!e.showTooltipOutsideZoom||e.constrainOutsideZoom))e._tooltipElem.empty(),e._tooltipElem.hide();
e.zoom&&(e._zoom.gridpos=c,e._zoom.datapos=d);if(e.showVerticalLine||e.showHorizontalLine)b=e.cursorCanvas._ctx,b.clearRect(0,0,b.canvas.width,b.canvas.height);if(e.showCursorLegend){b=a(f.targetId+" td.jqplot-cursor-legend-label");for(c=0;c<b.length;c++)d=a(b[c]).data("seriesIndex"),d=f.series[d].label.toString(),f.legend.escapeHtml?a(b[c]).text(a.jqplot.sprintf(e.cursorLegendFormatString,d,void 0,void 0)):a(b[c]).html(a.jqplot.sprintf(e.cursorLegendFormatString,d,void 0,void 0))}}}function m(a,
d,f,k,g){k=g.plugins.cursor;k.onGrid=!0;if(k.show){k.previousCursor=a.target.style.cursor;a.target.style.cursor=k.style;if(k.showTooltip){b(d,f,g);if(k.followMouse)e(d,g);else{var h=g._gridPadding,i=g.plugins.cursor,a=i._tooltipElem;switch(i.tooltipLocation){case "nw":f=h.left+i.tooltipOffset;h=h.top+i.tooltipOffset;a.css("left",f);a.css("top",h);break;case "n":f=(h.left+(g._plotDimensions.width-h.right))/2-a.outerWidth(!0)/2;h=h.top+i.tooltipOffset;a.css("left",f);a.css("top",h);break;case "ne":f=
h.right+i.tooltipOffset;h=h.top+i.tooltipOffset;a.css({right:f,top:h});break;case "e":f=h.right+i.tooltipOffset;h=(h.top+(g._plotDimensions.height-h.bottom))/2-a.outerHeight(!0)/2;a.css({right:f,top:h});break;case "se":f=h.right+i.tooltipOffset;h=h.bottom+i.tooltipOffset;a.css({right:f,bottom:h});break;case "s":f=(h.left+(g._plotDimensions.width-h.right))/2-a.outerWidth(!0)/2;h=h.bottom+i.tooltipOffset;a.css({left:f,bottom:h});break;case "sw":f=h.left+i.tooltipOffset;h=h.bottom+i.tooltipOffset;a.css({left:f,
bottom:h});break;case "w":f=h.left+i.tooltipOffset;h=(h.top+(g._plotDimensions.height-h.bottom))/2-a.outerHeight(!0)/2;a.css({left:f,top:h});break;default:f=h.right-i.tooltipOffset,h=h.bottom+i.tooltipOffset,a.css({right:f,bottom:h})}}k._tooltipElem.show()}(k.showVerticalLine||k.showHorizontalLine)&&c(d,g)}}function i(a,d,f,k,g){a=g.plugins.cursor;a.show&&(a.showTooltip&&(b(d,f,g),a.followMouse&&e(d,g)),(a.showVerticalLine||a.showHorizontalLine)&&c(d,g))}function g(a){var c=a.data.plot,d=c.plugins.cursor;
if(d.show&&d.zoom&&d._zoom.started&&!d.zoomTarget){a.preventDefault();var f=d.zoomCanvas._ctx,k=a.data.plot,g=k.eventCanvas._elem.offset(),a={x:a.pageX-g.left,y:a.pageY-g.top},g={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},h="xaxis yaxis x2axis y2axis y3axis y4axis y5axis y6axis y7axis y8axis y9axis yMidAxis".split(" "),k=k.axes,i,l;for(i=11;0<i;i--)l=h[i-1],k[l].show&&(g[l]=k[l].series_p2u(a[l.charAt(0)]));
d._zoom.gridpos=a;d._zoom.datapos=g;d._zoom.zooming=!0;h=a.x;k=a.y;i=f.canvas.height;f=f.canvas.width;d.showTooltip&&(!d.onGrid&&d.showTooltipOutsideZoom)&&(b(a,g,c),d.followMouse&&e(a,c));d._zoom.end="x"==d.constrainZoomTo?[h,i]:"y"==d.constrainZoomTo?[f,k]:[h,k];c=window.getSelection;document.selection&&document.selection.empty?document.selection.empty():c&&!c().isCollapsed&&c().collapse();q.call(d)}}function n(b,c,d,e,f){b=f.plugins.cursor;if(f.plugins.mobile)a(document).one("vmouseup.jqplot_cursor",
{plot:f},k);else a(document).one("mouseup.jqplot_cursor",{plot:f},k);void 0!=document.onselectstart&&(b._oldHandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1});void 0!=document.ondrag&&(b._oldHandlers.ondrag=document.ondrag,document.ondrag=function(){return false});void 0!=document.onmousedown&&(b._oldHandlers.onmousedown=document.onmousedown,document.onmousedown=function(){return false});if(b.zoom){b.zoomProxy||(e=b.zoomCanvas._ctx,e.clearRect(0,0,e.canvas.width,
e.canvas.height),e=null);b._zoom.start="x"==b.constrainZoomTo?[c.x,0]:"y"==b.constrainZoomTo?[0,c.y]:[c.x,c.y];b._zoom.started=!0;for(var h in d)b._zoom.axes.start[h]=d[h];f.plugins.mobile?a(document).bind("vmousemove.jqplotCursor",{plot:f},g):a(document).bind("mousemove.jqplotCursor",{plot:f},g)}}function k(b){var b=b.data.plot,c=b.plugins.cursor;if(c.zoom&&c._zoom.zooming&&!c.zoomTarget){var d=c._zoom.gridpos.x,e=c._zoom.gridpos.y,f=c._zoom.datapos,k=c.zoomCanvas._ctx.canvas.height,h=c.zoomCanvas._ctx.canvas.width,
i=b.axes;if(c.constrainOutsideZoom&&!c.onGrid){0>d?d=0:d>h&&(d=h);0>e?e=0:e>k&&(e=k);for(var l in f)f[l]&&(f[l]="x"==l.charAt(0)?i[l].series_p2u(d):i[l].series_p2u(e))}"x"==c.constrainZoomTo?e=k:"y"==c.constrainZoomTo&&(d=h);c._zoom.end=[d,e];c._zoom.gridpos={x:d,y:e};c.doZoom(c._zoom.gridpos,f,b,c)}c._zoom.started=!1;c._zoom.zooming=!1;a(document).unbind("mousemove.jqplotCursor",g);void 0!=document.onselectstart&&null!=c._oldHandlers.onselectstart&&(document.onselectstart=c._oldHandlers.onselectstart,
c._oldHandlers.onselectstart=null);void 0!=document.ondrag&&null!=c._oldHandlers.ondrag&&(document.ondrag=c._oldHandlers.ondrag,c._oldHandlers.ondrag=null);void 0!=document.onmousedown&&null!=c._oldHandlers.onmousedown&&(document.onmousedown=c._oldHandlers.onmousedown,c._oldHandlers.onmousedown=null)}function q(){var a=this._zoom.start,b=this._zoom.end,c=this.zoomCanvas._ctx,d,e,f;b[0]>a[0]?(d=a[0],f=b[0]-a[0]):(d=b[0],f=a[0]-b[0]);b[1]>a[1]?(e=a[1],a=b[1]-a[1]):(e=b[1],a=a[1]-b[1]);c.fillStyle="rgba(0,0,0,0.2)";
c.strokeStyle="#999999";c.lineWidth=1;c.clearRect(0,0,c.canvas.width,c.canvas.height);c.fillRect(0,0,c.canvas.width,c.canvas.height);c.clearRect(d,e,f,a);c.strokeRect(d,e,f,a)}a.jqplot.Cursor=function(b){this.style="crosshair";this.previousCursor="auto";this.show=a.jqplot.config.enablePlugins;this.showTooltip=!0;this.followMouse=!1;this.tooltipLocation="se";this.tooltipOffset=6;this.showTooltipGridPosition=!1;this.showTooltipUnitPosition=!0;this.showTooltipDataPosition=!1;this.tooltipFormatString=
"%.4P, %.4P";this.useAxesFormatters=!0;this.tooltipAxisGroups=[];this.zoomTarget=this.zoomProxy=this.zoom=!1;this.looseZoom=!0;this.clickReset=!1;this.dblClickReset=!0;this.showHorizontalLine=this.showVerticalLine=!1;this.constrainZoomTo="none";this.shapeRenderer=new a.jqplot.ShapeRenderer;this._zoom={start:[],end:[],started:!1,zooming:!1,isZoomed:!1,axes:{start:{},end:{}},gridpos:{},datapos:{}};this._tooltipElem;this.zoomCanvas;this.cursorCanvas;this.intersectionThreshold=2;this.showCursorLegend=
!1;this.cursorLegendFormatString=a.jqplot.Cursor.cursorLegendFormatString;this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null};this.constrainOutsideZoom=!0;this.onGrid=this.showTooltipOutsideZoom=!1;a.extend(!0,this,b)};a.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s";a.jqplot.Cursor.init=function(b,c,d){b=d||{};this.plugins.cursor=new a.jqplot.Cursor(b.cursor);var e=this.plugins.cursor;if(e.show&&(a.jqplot.eventListenerHooks.push(["jqplotMouseEnter",m]),a.jqplot.eventListenerHooks.push(["jqplotMouseLeave",
f]),a.jqplot.eventListenerHooks.push(["jqplotMouseMove",i]),e.showCursorLegend&&(d.legend=d.legend||{},d.legend.renderer=a.jqplot.CursorLegendRenderer,d.legend.formatString=this.plugins.cursor.cursorLegendFormatString,d.legend.show=!0),e.zoom&&(a.jqplot.eventListenerHooks.push(["jqplotMouseDown",n]),e.clickReset&&a.jqplot.eventListenerHooks.push(["jqplotClick",l]),e.dblClickReset&&a.jqplot.eventListenerHooks.push(["jqplotDblClick",h])),this.resetZoom=function(){var a=this.axes;if(e.zoomProxy){a=this.plugins.cursor.zoomCanvas._ctx;
a.clearRect(0,0,a.canvas.width,a.canvas.height)}else{for(var b in a){a[b].reset();a[b]._ticks=[];if(e._zoom.axes[b]!==void 0)a[b]._autoFormatString=e._zoom.axes[b].tickFormatString}this.redraw()}this.plugins.cursor._zoom.isZoomed=false;this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])},e.showTooltipDataPosition))e.showTooltipUnitPosition=!1,e.showTooltipGridPosition=!1,void 0==b.cursor.tooltipFormatString&&(e.tooltipFormatString=a.jqplot.Cursor.cursorLegendFormatString)};a.jqplot.Cursor.postDraw=
function(){var b=this.plugins.cursor;b.zoomCanvas&&(b.zoomCanvas.resetCanvas(),b.zoomCanvas=null);b.cursorCanvas&&(b.cursorCanvas.resetCanvas(),b.cursorCanvas=null);b._tooltipElem&&(b._tooltipElem.emptyForce(),b._tooltipElem=null);b.zoom&&(b.zoomCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(b.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this)),b.zoomCanvas.setContext());var c=document.createElement("div");b._tooltipElem=a(c);b._tooltipElem.addClass("jqplot-cursor-tooltip");
b._tooltipElem.css({position:"absolute",display:"none"});b.zoomCanvas?b.zoomCanvas._elem.before(b._tooltipElem):this.eventCanvas._elem.before(b._tooltipElem);if(b.showVerticalLine||b.showHorizontalLine)b.cursorCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(b.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this)),b.cursorCanvas.setContext();if(b.showTooltipUnitPosition&&0===b.tooltipAxisGroups.length){for(var c=this.series,d,e=[],f=0;f<c.length;f++)d=
c[f],d=d.xaxis+","+d.yaxis,-1==a.inArray(d,e)&&e.push(d);for(f=0;f<e.length;f++)b.tooltipAxisGroups.push(e[f].split(","))}};a.jqplot.Cursor.zoomProxy=function(a,b){var c=a.plugins.cursor,d=b.plugins.cursor;c.zoomTarget=!0;c.zoom=!0;c.style="auto";c.dblClickReset=!1;d.zoom=!0;d.zoomProxy=!0;b.target.bind("jqplotZoom",function(b,d,e,f,k){c.doZoom(d,e,a,k)});b.target.bind("jqplotResetZoom",function(){a.resetZoom()})};a.jqplot.Cursor.prototype.resetZoom=function(a,b){var c=a.axes,d=b._zoom.axes;if(!a.plugins.cursor.zoomProxy&&
b._zoom.isZoomed){for(var e in c)c[e].reset(),c[e]._ticks=[],c[e]._autoFormatString=d[e].tickFormatString;a.redraw();b._zoom.isZoomed=!1}else c=b.zoomCanvas._ctx,c.clearRect(0,0,c.canvas.width,c.canvas.height);a.target.trigger("jqplotResetZoom",[a,b])};a.jqplot.Cursor.resetZoom=function(a){a.resetZoom()};a.jqplot.Cursor.prototype.doZoom=function(b,c,d,e){var f=d.axes,k=e._zoom.axes.start,g,h,i,l,q=d.plugins.cursor.zoomCanvas._ctx;if("none"==e.constrainZoomTo&&6<Math.abs(b.x-e._zoom.start[0])&&6<Math.abs(b.y-
e._zoom.start[1])||"x"==e.constrainZoomTo&&6<Math.abs(b.x-e._zoom.start[0])||"y"==e.constrainZoomTo&&6<Math.abs(b.y-e._zoom.start[1])){if(!d.plugins.cursor.zoomProxy){for(var m in c)if(void 0==e._zoom.axes[m]&&(e._zoom.axes[m]={},e._zoom.axes[m].numberTicks=f[m].numberTicks,e._zoom.axes[m].tickInterval=f[m].tickInterval,e._zoom.axes[m].daTickInterval=f[m].daTickInterval,e._zoom.axes[m].min=f[m].min,e._zoom.axes[m].max=f[m].max,e._zoom.axes[m].tickFormatString=null!=f[m].tickOptions?f[m].tickOptions.formatString:
""),"none"==e.constrainZoomTo||"x"==e.constrainZoomTo&&"x"==m.charAt(0)||"y"==e.constrainZoomTo&&"y"==m.charAt(0))if(g=c[m],null!=g)g>k[m]?h=k[m]:(h=g,g=k[m]),i=f[m],l=null,i.alignTicks&&("x2axis"===i.name&&d.axes.xaxis.show?l=d.axes.xaxis.numberTicks:"y"===i.name.charAt(0)&&("yaxis"!==i.name&&"yMidAxis"!==i.name&&d.axes.yaxis.show)&&(l=d.axes.yaxis.numberTicks)),this.looseZoom&&(f[m].renderer.constructor===a.jqplot.LinearAxisRenderer||f[m].renderer.constructor===a.jqplot.LogAxisRenderer)?(h=a.jqplot.LinearTickGenerator(h,
g,i._scalefact,l),f[m].tickInset&&h[0]<f[m].min+f[m].tickInset*f[m].tickInterval&&(h[0]+=h[4],h[2]-=1),f[m].tickInset&&h[1]>f[m].max-f[m].tickInset*f[m].tickInterval&&(h[1]-=h[4],h[2]-=1),f[m].renderer.constructor===a.jqplot.LogAxisRenderer&&h[0]<f[m].min&&(h[0]+=h[4],h[2]-=1),f[m].min=h[0],f[m].max=h[1],f[m]._autoFormatString=h[3],f[m].numberTicks=h[2],f[m].tickInterval=h[4],f[m].daTickInterval=[h[4]/1E3,"seconds"]):(f[m].min=h,f[m].max=g,f[m].tickInterval=null,f[m].numberTicks=null,f[m].daTickInterval=
null),f[m]._ticks=[];q.clearRect(0,0,q.canvas.width,q.canvas.height);d.redraw();e._zoom.isZoomed=!0}d.target.trigger("jqplotZoom",[b,c,d,e])}};a.jqplot.preInitHooks.push(a.jqplot.Cursor.init);a.jqplot.postDrawHooks.push(a.jqplot.Cursor.postDraw);a.jqplot.CursorLegendRenderer=function(b){a.jqplot.TableLegendRenderer.call(this,b);this.formatString="%s"};a.jqplot.CursorLegendRenderer.prototype=new a.jqplot.TableLegendRenderer;a.jqplot.CursorLegendRenderer.prototype.constructor=a.jqplot.CursorLegendRenderer;
a.jqplot.CursorLegendRenderer.prototype.draw=function(){function b(c,d,e,f){var j=e?this.rowSpacing:"0",e=a('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);e.data("seriesIndex",f);a('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+j+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+d+';"></div></div></td>').appendTo(e);d=a('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+
j+';"></td>');d.appendTo(e);d.data("seriesIndex",f);this.escapeHtml?d.text(c):d.html(c)}this._elem&&(this._elem.emptyForce(),this._elem=null);if(this.show){var c=this._series,d;d=document.createElement("div");this._elem=a(d);d=null;this._elem.addClass("jqplot-legend jqplot-cursor-legend");this._elem.css("position","absolute");for(var e=!1,f=0;f<c.length;f++)if(d=c[f],d.show&&d.showLabel){var k=a.jqplot.sprintf(this.formatString,d.label.toString());if(k){var h=d.color;d._stack&&!d.fill&&(h="");b.call(this,
k,h,e,f);e=!0}for(k=0;k<a.jqplot.addLegendRowHooks.length;k++)if(h=a.jqplot.addLegendRowHooks[k].call(this,d))b.call(this,h.label,h.color,e),e=!0}c=d=null;delete c;delete d}return this._elem}})(jQuery);(function(a){a.jqplot.DateAxisRenderer=function(){a.jqplot.LinearAxisRenderer.call(this);this.date=new a.jsDate};var b=30.4368499*864E5,c=365.242199*864E5,d="%M:%S.%#N;%M:%S.%#N;%M:%S.%#N;%M:%S;%M:%S;%M:%S;%M:%S;%H:%M:%S;%H:%M:%S;%H:%M;%H:%M;%H:%M;%H:%M;%H:%M;%H:%M;%a %H:%M;%a %H:%M;%b %e %H:%M;%b %e %H:%M;%b %e %H:%M;%b %e %H:%M;%v;%v;%v;%v;%v;%v;%v".split(";"),e=[100,200,500,1E3,2E3,5E3,1E4,15E3,3E4,6E4,12E4,3E5,6E5,9E5,18E5,36E5,72E5,144E5,216E5,288E5,432E5,864E5,1728E5,2592E5,3456E5,432E6,6048E5,
12096E5];a.jqplot.DateAxisRenderer.prototype=new a.jqplot.LinearAxisRenderer;a.jqplot.DateAxisRenderer.prototype.constructor=a.jqplot.DateAxisRenderer;a.jqplot.DateTickFormatter=function(b,c){b||(b="%Y/%m/%d");return a.jsDate.strftime(c,b)};a.jqplot.DateAxisRenderer.prototype.init=function(b){this.tickOptions.formatter=a.jqplot.DateTickFormatter;this.tickInset=0;this.drawBaseline=!0;this._daTickInterval=this.daTickInterval=this.baselineColor=this.baselineWidth=null;a.extend(!0,this,b);for(var b=this._dataBounds,
c,d,e,i,g,n,k,q=0;q<this._series.length;q++){c={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null};d=0;e=this._series[q];i=e.data;g=e._plotData;n=e._stackData;for(var j=k=0;j<i.length;j++){if("xaxis"==this.name||"x2axis"==this.name){i[j][0]=(new a.jsDate(i[j][0])).getTime();g[j][0]=(new a.jsDate(i[j][0])).getTime();n[j][0]=(new a.jsDate(i[j][0])).getTime();if(null!=i[j][0]&&i[j][0]<b.min||null==b.min)b.min=i[j][0];if(null!=i[j][0]&&i[j][0]>b.max||null==b.max)b.max=i[j][0];
0<j&&(k=Math.abs(i[j][0]-i[j-1][0]),c.intervals.push(k),c.frequencies[k]=c.frequencies.hasOwnProperty(k)?c.frequencies[k]+1:1);d+=k}else{i[j][1]=(new a.jsDate(i[j][1])).getTime();g[j][1]=(new a.jsDate(i[j][1])).getTime();n[j][1]=(new a.jsDate(i[j][1])).getTime();if(null!=i[j][1]&&i[j][1]<b.min||null==b.min)b.min=i[j][1];if(null!=i[j][1]&&i[j][1]>b.max||null==b.max)b.max=i[j][1];0<j&&(k=Math.abs(i[j][1]-i[j-1][1]),c.intervals.push(k),c.frequencies[k]=c.frequencies.hasOwnProperty(k)?c.frequencies[k]+
1:1)}d+=k}if(e.renderer.bands){if(e.renderer.bands.hiData.length){g=e.renderer.bands.hiData;j=0;for(n=g.length;j<n;j++)if("xaxis"===this.name||"x2axis"===this.name){if(g[j][0]=(new a.jsDate(g[j][0])).getTime(),null!=g[j][0]&&g[j][0]>b.max||null==b.max)b.max=g[j][0]}else if(g[j][1]=(new a.jsDate(g[j][1])).getTime(),null!=g[j][1]&&g[j][1]>b.max||null==b.max)b.max=g[j][1]}if(e.renderer.bands.lowData.length){g=e.renderer.bands.lowData;j=0;for(n=g.length;j<n;j++)if("xaxis"===this.name||"x2axis"===this.name){if(g[j][0]=
(new a.jsDate(g[j][0])).getTime(),null!=g[j][0]&&g[j][0]<b.min||null==b.min)b.min=g[j][0]}else if(g[j][1]=(new a.jsDate(g[j][1])).getTime(),null!=g[j][1]&&g[j][1]<b.min||null==b.min)b.min=g[j][1]}}for(var o in c.frequencies)c.sortedIntervals.push({interval:o,frequency:c.frequencies[o]});c.sortedIntervals.sort(function(a,b){return b.frequency-a.frequency});c.min=a.jqplot.arrayMin(c.intervals);c.max=a.jqplot.arrayMax(c.intervals);c.mean=d/i.length;this._intervalStats.push(c);c=d=e=i=g=n=null}b=null};
a.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min;this.max=this._options.max;this.tickInterval=this._options.tickInterval;this.numberTicks=this._options.numberTicks;this._autoFormatString="";this._overrideFormatString&&(this.tickOptions&&this.tickOptions.formatString)&&(this.tickOptions.formatString="");this.daTickInterval=this._daTickInterval};a.jqplot.DateAxisRenderer.prototype.createTicks=function(l){var h=this.ticks,f=this.name,m=this._dataBounds,i="x"===this.name.charAt(0)?
this._plotDimensions.width:this._plotDimensions.height,g,n,k,q=1,j=null;null!=this.tickInterval&&(Number(this.tickInterval)?j=[Number(this.tickInterval),"seconds"]:"string"==typeof this.tickInterval&&(n=this.tickInterval.split(" "),1==n.length?j=[1,n[0]]:2==n.length&&(j=[n[0],n[1]])));g=(new a.jsDate(null!=this.min?this.min:m.min)).getTime();n=(new a.jsDate(null!=this.max?this.max:m.max)).getTime();if((l=l.plugins.cursor)&&l._zoom&&l._zoom.zooming)this.max=this.min=null;l=n-g;if(null==this.tickOptions||
!this.tickOptions.formatString)this._overrideFormatString=!0;if(h.length){for(n=0;n<h.length;n++)k=h[n],g=new this.tickRenderer(this.tickOptions),k.constructor==Array?(g.value=(new a.jsDate(k[0])).getTime(),g.label=k[1]):g.value=(new a.jsDate(k)).getTime(),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),g.setTick(g.value,this.name),this._ticks.push(g);this.numberTicks=h.length;this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value;this.daTickInterval=
[(this.max-this.min)/(this.numberTicks-1)/1E3,"seconds"]}else if(null==this.min&&null==this.max&&m.min==m.max){k=a.extend(!0,{},this.tickOptions,{name:this.name,value:null});this.min=m.min-3E5;this.max=m.max+3E5;this.numberTicks=3;for(n=this.min;n<=this.max;n+=3E5)k.value=n,g=new this.tickRenderer(k),this._overrideFormatString&&""!=this._autoFormatString&&(g.formatString=this._autoFormatString),g.showLabel=!1,g.showMark=!1,this._ticks.push(g);this.showTicks&&(this._ticks[1].showLabel=!0);this.showTickMarks&&
(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var q=a.extend(!0,{},this.tickOptions,{name:this.name,value:null}),o;!this.tickInterval&&!this.numberTicks?(h=Math.max(i,31),i=115,this.tickRenderer===a.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(i=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),h=Math.ceil((h-30)/i+1),o=(n-g)/(h-1)):this.tickInterval?o=(new a.jsDate(0)).add(j[0],j[1]).getTime():this.numberTicks&&(h=this.numberTicks,o=(n-g)/(h-1));
if(16416E5>=o){var p,h=o,i=Number.MAX_VALUE,j=0;for(o=e.length;j<o;j++)m=Math.abs(h-e[j]),m<i&&(i=m,k=e[j],p=d[j]);p=[k,p];k=p[0];this._autoFormatString=p[1];g=new a.jsDate(g);g=Math.floor((g.getTime()-g.getUtcOffset())/k)*k+g.getUtcOffset();h=Math.ceil((n-g)/k)+1;this.min=g;this.max=g+(h-1)*k;this.max<n&&(this.max+=k,h+=1);this.tickInterval=k;this.numberTicks=h;for(n=0;n<h;n++)q.value=this.min+n*k,g=new this.tickRenderer(q),this._overrideFormatString&&""!=this._autoFormatString&&(g.formatString=
this._autoFormatString),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),this._ticks.push(g);q=this.tickInterval}else if(o<=9*b){this._autoFormatString="%v";k=Math.round(o/b);1>k?k=1:6<k&&(k=6);p=(new a.jsDate(g)).setDate(1).setHours(0,0,0,0);g=new a.jsDate(n);n=(new a.jsDate(n)).setDate(1).setHours(0,0,0,0);g.getTime()!==n.getTime()&&(n=n.add(1,"month"));n=n.diff(p,"month");h=Math.ceil(n/k)+1;this.min=p.getTime();this.max=p.clone().add((h-1)*k,"month").getTime();
this.numberTicks=h;for(n=0;n<h;n++)q.value=0===n?p.getTime():p.add(k,"month").getTime(),g=new this.tickRenderer(q),this._overrideFormatString&&""!=this._autoFormatString&&(g.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),this._ticks.push(g);q=k*b}else{this._autoFormatString="%v";k=Math.round(o/c);1>k&&(k=1);p=(new a.jsDate(g)).setMonth(0,1).setHours(0,0,0,0);n=(new a.jsDate(n)).add(1,"year").setMonth(0,1).setHours(0,0,0,0);n=
n.diff(p,"year");h=Math.ceil(n/k)+1;this.min=p.getTime();this.max=p.clone().add((h-1)*k,"year").getTime();this.numberTicks=h;for(n=0;n<h;n++)q.value=0===n?p.getTime():p.add(k,"year").getTime(),g=new this.tickRenderer(q),this._overrideFormatString&&""!=this._autoFormatString&&(g.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),this._ticks.push(g);q=k*c}}else{i="xaxis"==f||"x2axis"==f?this._plotDimensions.width:this._plotDimensions.height;
null!=this.min&&(null!=this.max&&null!=this.numberTicks)&&(this.tickInterval=null);null!=this.tickInterval&&null!=j&&(this.daTickInterval=j);g==n&&(g-=432E5,n+=432E5);l=n-g;parseInt(Math.max(0,i-100)/100,10);g=null!=this.min?(new a.jsDate(this.min)).getTime():g-l/2*(this.padMin-1);n=null!=this.max?(new a.jsDate(this.max)).getTime():n+l/2*(this.padMax-1);this.min=g;this.max=n;l=this.max-this.min;null==this.numberTicks&&(null!=this.daTickInterval?(n=(new a.jsDate(this.max)).diff(this.min,this.daTickInterval[1],
!0),this.numberTicks=Math.ceil(n/this.daTickInterval[0])+1,this.max=(new a.jsDate(this.min)).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()):this.numberTicks=200<i?parseInt(3+(i-200)/100,10):2);q=l/(this.numberTicks-1)/1E3;null==this.daTickInterval&&(this.daTickInterval=[q,"seconds"]);for(n=0;n<this.numberTicks;n++)g=new a.jsDate(this.min),k=g.add(n*this.daTickInterval[0],this.daTickInterval[1]).getTime(),g=new this.tickRenderer(this.tickOptions),this.showTicks?
this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),g.setTick(k,this.name),this._ticks.push(g)}this.tickInset&&(this.min-=this.tickInset*q,this.max+=this.tickInset*q);null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval)}})(jQuery);(function(a){function b(a,b,c,d,e){var f=0,a=b-a,b=Math.abs(a);!1==d&&(c+=e);0<c&&(0.01<b&&6.282>b)&&(f=parseFloat(c)/2/Math.sin((a-(a-Math.PI)/8/Math.PI)/2));return f}function c(){for(var b=0;b<this.series.length;b++)this.series[b].renderer.constructor==a.jqplot.PieRenderer&&this.series[b].highlightMouseOver&&(this.series[b].highlightMouseDown=!1)}function d(){for(var b=0;b<this.series.length;b++)this.series[b].seriesColors=this.seriesColors,this.series[b].colorGenerator=a.jqplot.colorGenerator}
function e(a,b,c){var d=a.series[b],e=a.plugins.pieRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height);d._highlightedPoint=c;a.plugins.pieRenderer.highlightedSeriesIndex=b;d.renderer.drawSlice.call(d,e._ctx,d._sliceAngles[c][0],d._sliceAngles[c][1],d.highlightColorGenerator.get(c),!1)}function l(a){var b=a.plugins.pieRenderer.highlightCanvas;b._ctx.clearRect(0,0,b._ctx.canvas.width,b._ctx.canvas.height);for(b=0;b<a.series.length;b++)a.series[b]._highlightedPoint=
null;a.plugins.pieRenderer.highlightedSeriesIndex=null;a.target.trigger("jqplotDataUnhighlight")}function h(a,b,c,d,f){d?(b=[d.seriesIndex,d.pointIndex,d.data],c=jQuery.Event("jqplotDataMouseOver"),c.pageX=a.pageX,c.pageY=a.pageY,f.target.trigger(c,b),f.series[b[0]].highlightMouseOver&&!(b[0]==f.plugins.pieRenderer.highlightedSeriesIndex&&b[1]==f.series[b[0]]._highlightedPoint)&&(c=jQuery.Event("jqplotDataHighlight"),c.which=a.which,c.pageX=a.pageX,c.pageY=a.pageY,f.target.trigger(c,b),e(f,b[0],b[1]))):
null==d&&l(f)}function f(a,b,c,d,f){d?(b=[d.seriesIndex,d.pointIndex,d.data],f.series[b[0]].highlightMouseDown&&!(b[0]==f.plugins.pieRenderer.highlightedSeriesIndex&&b[1]==f.series[b[0]]._highlightedPoint)&&(c=jQuery.Event("jqplotDataHighlight"),c.which=a.which,c.pageX=a.pageX,c.pageY=a.pageY,f.target.trigger(c,b),e(f,b[0],b[1]))):null==d&&l(f)}function m(a,b,c,d,e){a=e.plugins.pieRenderer.highlightedSeriesIndex;null!=a&&e.series[a].highlightMouseDown&&l(e)}function i(a,b,c,d,e){d&&(b=[d.seriesIndex,
d.pointIndex,d.data],c=jQuery.Event("jqplotDataClick"),c.which=a.which,c.pageX=a.pageX,c.pageY=a.pageY,e.target.trigger(c,b))}function g(a,b,c,d,e){d&&(b=[d.seriesIndex,d.pointIndex,d.data],c=e.plugins.pieRenderer.highlightedSeriesIndex,null!=c&&e.series[c].highlightMouseDown&&l(e),c=jQuery.Event("jqplotDataRightClick"),c.which=a.which,c.pageX=a.pageX,c.pageY=a.pageY,e.target.trigger(c,b))}function n(){this.plugins.pieRenderer&&this.plugins.pieRenderer.highlightCanvas&&(this.plugins.pieRenderer.highlightCanvas.resetCanvas(),
this.plugins.pieRenderer.highlightCanvas=null);this.plugins.pieRenderer={highlightedSeriesIndex:null};this.plugins.pieRenderer.highlightCanvas=new a.jqplot.GenericCanvas;var b=a(this.targetId+" .jqplot-data-label");b.length?a(b[0]).before(this.plugins.pieRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-pieRenderer-highlight-canvas",this._plotDimensions,this)):this.eventCanvas._elem.before(this.plugins.pieRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-pieRenderer-highlight-canvas",
this._plotDimensions,this));this.plugins.pieRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(a){l(a.data.plot)})}a.jqplot.PieRenderer=function(){a.jqplot.LineRenderer.call(this)};a.jqplot.PieRenderer.prototype=new a.jqplot.LineRenderer;a.jqplot.PieRenderer.prototype.constructor=a.jqplot.PieRenderer;a.jqplot.PieRenderer.prototype.init=function(b,e){this.diameter=null;this.padding=20;this.sliceMargin=0;this.fill=!0;this.shadowOffset=2;this.shadowAlpha=
0.07;this.shadowDepth=5;this.highlightMouseOver=!0;this.highlightMouseDown=!1;this.highlightColors=[];this.dataLabels="percent";this.showDataLabels=!1;this.dataLabelFormatString=null;this.dataLabelThreshold=3;this.dataLabelPositionFactor=0.52;this.dataLabelNudge=2;this.dataLabelCenterOn=!0;this.startAngle=0;this.tickRenderer=a.jqplot.PieTickRenderer;this._drawData=!0;this._type="pie";b.highlightMouseDown&&null==b.highlightMouseOver&&(b.highlightMouseOver=!1);a.extend(!0,this,b);0>this.sliceMargin&&
(this.sliceMargin=0);this._radius=this._diameter=null;this._sliceAngles=[];this._highlightedPoint=null;if(0==this.highlightColors.length)for(var j=0;j<this.seriesColors.length;j++){for(var l=a.jqplot.getColorComponents(this.seriesColors[j]),l=[l[0],l[1],l[2]],p=l[0]+l[1]+l[2],u=0;3>u;u++)l[u]=570<p?0.8*l[u]:l[u]+0.3*(255-l[u]),l[u]=parseInt(l[u],10);this.highlightColors.push("rgb("+l[0]+","+l[1]+","+l[2]+")")}this.highlightColorGenerator=new a.jqplot.ColorGenerator(this.highlightColors);e.postParseOptionsHooks.addOnce(d);
e.postInitHooks.addOnce(c);e.eventListenerHooks.addOnce("jqplotMouseMove",h);e.eventListenerHooks.addOnce("jqplotMouseDown",f);e.eventListenerHooks.addOnce("jqplotMouseUp",m);e.eventListenerHooks.addOnce("jqplotClick",i);e.eventListenerHooks.addOnce("jqplotRightClick",g);e.postDrawHooks.addOnce(n)};a.jqplot.PieRenderer.prototype.setGridData=function(){var a=[],b=[],c=0;this._drawData=!1;for(var d=0;d<this.data.length;d++)0!=this.data[d][1]&&(this._drawData=!0),a.push(this.data[d][1]),b.push([this.data[d][0]]),
0<d&&(a[d]+=a[d-1]),c+=this.data[d][1];for(var e=2*Math.PI/a[a.length-1],d=0;d<a.length;d++)b[d][1]=a[d]*e,b[d][2]=this.data[d][1]/c;this.gridData=b};a.jqplot.PieRenderer.prototype.makeGridData=function(a){var b=[],c=[],d=0;this._drawData=!1;for(var e=0;e<a.length;e++)0!=this.data[e][1]&&(this._drawData=!0),b.push(a[e][1]),c.push([a[e][0]]),0<e&&(b[e]+=b[e-1]),d+=a[e][1];for(var f=2*Math.PI/b[b.length-1],e=0;e<b.length;e++)c[e][1]=b[e]*f,c[e][2]=a[e][1]/d;return c};a.jqplot.PieRenderer.prototype.drawSlice=
function(a,c,d,e,f){function g(b){d>6.282+this.startAngle&&(d=6.282+this.startAngle,c>d&&(c=6.281+this.startAngle));c>=d||(a.beginPath(),a.fillStyle=e,a.strokeStyle=e,a.lineWidth=l,a.arc(0,0,b,c,d,!1),a.lineTo(0,0),a.closePath(),i?a.fill():a.stroke())}if(this._drawData){var h=this._radius,i=this.fill,l=this.lineWidth;a.save();a.translate(this._center[0],this._center[1]);var m=b(c,d,this.sliceMargin,this.fill,this.lineWidth),n=m*Math.cos((c+d)/2),x=m*Math.sin((c+d)/2),h=d-c<=Math.PI?h-m:h+m;a.translate(n,
x);if(f){f=0;for(m=this.shadowDepth;f<m;f++)a.save(),a.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),g(h);f=0;for(m=this.shadowDepth;f<m;f++)a.restore()}else g(h);a.restore()}};a.jqplot.PieRenderer.prototype.draw=function(c,d,e,f){var g=0,h=0,i=1,l=new a.jqplot.ColorGenerator(this.seriesColors);if(e.legendInfo&&"insideGrid"==e.legendInfo.placement)switch(e=e.legendInfo,e.location){case "nw":g=e.width+e.xoffset;break;case "w":g=
e.width+e.xoffset;break;case "sw":g=e.width+e.xoffset;break;case "ne":g=e.width+e.xoffset;i=-1;break;case "e":g=e.width+e.xoffset;i=-1;break;case "se":g=e.width+e.xoffset;i=-1;break;case "n":h=e.height+e.yoffset;break;case "s":h=e.height+e.yoffset,i=-1}var m=c.canvas.width,n=c.canvas.height,w=Math.min(m-g-2*this.padding,n-h-2*this.padding);this._sliceAngles=[];for(var x,A=0,y,E,F=this.startAngle/180*Math.PI,e=0,G=d.length;e<G;e++)y=0==e?F:d[e-1][1]+F,E=d[e][1]+F,this._sliceAngles.push([y,E]),x=b(y,
E,this.sliceMargin,this.fill,this.lineWidth),Math.abs(E-y)>Math.PI&&(A=Math.max(x,A));this._diameter=null!=this.diameter&&0<this.diameter?this.diameter-2*A:w-2*A;if(6>this._diameter)a.jqplot.log("Diameter of pie too small, not rendering.");else{this._radius=this._diameter/2;this._center=[(m-i*g)/2+i*g+A*Math.cos(F),(n-i*h)/2+i*h+A*Math.sin(F)];if(this.shadow){e=0;for(G=d.length;e<G;e++)g="rgba(0,0,0,"+this.shadowAlpha+")",this.renderer.drawSlice.call(this,c,this._sliceAngles[e][0],this._sliceAngles[e][1],
g,!0)}for(e=0;e<d.length;e++)if(this.renderer.drawSlice.call(this,c,this._sliceAngles[e][0],this._sliceAngles[e][1],l.next(),!1),this.showDataLabels&&100*d[e][2]>=this.dataLabelThreshold){var H,g=(this._sliceAngles[e][0]+this._sliceAngles[e][1])/2;"label"==this.dataLabels?(H=this.dataLabelFormatString||"%s",H=a.jqplot.sprintf(H,d[e][0])):"value"==this.dataLabels?(H=this.dataLabelFormatString||"%d",H=a.jqplot.sprintf(H,this.data[e][1])):"percent"==this.dataLabels?(H=this.dataLabelFormatString||"%d%%",
H=a.jqplot.sprintf(H,100*d[e][2])):this.dataLabels.constructor==Array&&(H=this.dataLabelFormatString||"%s",H=a.jqplot.sprintf(H,this.dataLabels[e]));i=this._radius*this.dataLabelPositionFactor+this.sliceMargin+this.dataLabelNudge;h=this._center[0]+Math.cos(g)*i+this.canvas._offsets.left;i=this._center[1]+Math.sin(g)*i+this.canvas._offsets.top;G=a('<div class="jqplot-pie-series jqplot-data-label" style="position:absolute;">'+H+"</div>").insertBefore(f.eventCanvas._elem);h=this.dataLabelCenterOn?h-
G.width()/2:h-G.width()*Math.sin(g/2);i-=G.height()/2;h=Math.round(h);i=Math.round(i);G.css({left:h,top:i})}}};a.jqplot.PieAxisRenderer=function(){a.jqplot.LinearAxisRenderer.call(this)};a.jqplot.PieAxisRenderer.prototype=new a.jqplot.LinearAxisRenderer;a.jqplot.PieAxisRenderer.prototype.constructor=a.jqplot.PieAxisRenderer;a.jqplot.PieAxisRenderer.prototype.init=function(b){this.tickRenderer=a.jqplot.PieTickRenderer;a.extend(!0,this,b);this._dataBounds={min:0,max:100};this.min=0;this.max=100;this.showTicks=
!1;this.ticks=[];this.show=this.showMark=!1};a.jqplot.PieLegendRenderer=function(){a.jqplot.TableLegendRenderer.call(this)};a.jqplot.PieLegendRenderer.prototype=new a.jqplot.TableLegendRenderer;a.jqplot.PieLegendRenderer.prototype.constructor=a.jqplot.PieLegendRenderer;a.jqplot.PieLegendRenderer.prototype.init=function(b){this.numberColumns=this.numberRows=null;a.extend(!0,this,b)};a.jqplot.PieLegendRenderer.prototype.draw=function(){if(this.show){var b=this._series;this._elem=a(document.createElement("table"));
this._elem.addClass("jqplot-table-legend");var c={position:"absolute"};this.background&&(c.background=this.background);this.border&&(c.border=this.border);this.fontSize&&(c.fontSize=this.fontSize);this.fontFamily&&(c.fontFamily=this.fontFamily);this.textColor&&(c.textColor=this.textColor);null!=this.marginTop&&(c.marginTop=this.marginTop);null!=this.marginBottom&&(c.marginBottom=this.marginBottom);null!=this.marginLeft&&(c.marginLeft=this.marginLeft);null!=this.marginRight&&(c.marginRight=this.marginRight);
this._elem.css(c);var d=!1,e,c=b[0],b=new a.jqplot.ColorGenerator(c.seriesColors);if(c.show){var f=c.data;this.numberRows?(c=this.numberRows,e=this.numberColumns?this.numberColumns:Math.ceil(f.length/c)):this.numberColumns?(e=this.numberColumns,c=Math.ceil(f.length/this.numberColumns)):(c=f.length,e=1);var g,h,i,l,m,n,x=0,A,y;for(g=0;g<c;g++){i=a(document.createElement("tr"));i.addClass("jqplot-table-legend");i.appendTo(this._elem);for(h=0;h<e;h++)x<f.length&&(m=this.labels[x]||f[x][0].toString(),
l=b.next(),n=(d=0<g?!0:!1)?this.rowSpacing:"0",d=a(document.createElement("td")),d.addClass("jqplot-table-legend jqplot-table-legend-swatch"),d.css({textAlign:"center",paddingTop:n}),A=a(document.createElement("div")),A.addClass("jqplot-table-legend-swatch-outline"),y=a(document.createElement("div")),y.addClass("jqplot-table-legend-swatch"),y.css({backgroundColor:l,borderColor:l}),d.append(A.append(y)),l=a(document.createElement("td")),l.addClass("jqplot-table-legend jqplot-table-legend-label"),l.css("paddingTop",
n),this.escapeHtml?l.text(m):l.html(m),d.appendTo(i),l.appendTo(i)),x++}}}return this._elem};a.jqplot.PieRenderer.prototype.handleMove=function(a,b,c,d,f){d?(a=[d.seriesIndex,d.pointIndex,d.data],f.target.trigger("jqplotDataMouseOver",a),f.series[a[0]].highlightMouseOver&&!(a[0]==f.plugins.pieRenderer.highlightedSeriesIndex&&a[1]==f.series[a[0]]._highlightedPoint)&&(f.target.trigger("jqplotDataHighlight",a),e(f,a[0],a[1]))):null==d&&l(f)};a.jqplot.preInitHooks.push(function(b,c,d){d=d||{};d.axesDefaults=
d.axesDefaults||{};d.legend=d.legend||{};d.seriesDefaults=d.seriesDefaults||{};b=!1;if(d.seriesDefaults.renderer==a.jqplot.PieRenderer)b=!0;else if(d.series)for(c=0;c<d.series.length;c++)d.series[c].renderer==a.jqplot.PieRenderer&&(b=!0);b&&(d.axesDefaults.renderer=a.jqplot.PieAxisRenderer,d.legend.renderer=a.jqplot.PieLegendRenderer,d.legend.preDraw=!0,d.seriesDefaults.pointLabels={show:!1})});a.jqplot.PieTickRenderer=function(){a.jqplot.AxisTickRenderer.call(this)};a.jqplot.PieTickRenderer.prototype=
new a.jqplot.AxisTickRenderer;a.jqplot.PieTickRenderer.prototype.constructor=a.jqplot.PieTickRenderer})(jQuery);
